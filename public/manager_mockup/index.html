<!DOCTYPE html>
<html lang="en" dir="ltr" class="scroll-smooth" data-default-appearance="light"
  data-auto-appearance="true"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="en-US" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title> &middot; GC Education Analytics LLC</title>
  <meta name="title" content=" &middot; GC Education Analytics LLC" />
  
  <meta name="description" content="GC Education Analytics LLC: Empowering Educators, Simplifying Data." />
  
  
  
  <link rel="canonical" href="//localhost:1313/manager_mockup/" />
  
  
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.a6745620db242ce7a5b2b9ae1b82abb37a0a24d1172b3e39b31c3ceab988477a54f4c49ede2ff60086903d700f1a59520f5b7f204dc7919ff6c5e8f4755fa38d.css"
    integrity="sha512-pnRWINskLOelsrmuG4Krs3oKJNEXKz45sxw86rmIR3pU9MSe3i/2AIaQPXAPGllSD1t/IE3HkZ/2xej0dV&#43;jjQ==" />
  
  
  <script type="text/javascript" src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.f7e04724dda02f8ffdc6b4507869a4010cd1ae9151a97168d5fd3112b9825c5c6ac376f7d11b0bc353a66d91d614f06e749efb7e56da4ee6fa0c900ed45c85f7.js"
    integrity="sha512-9&#43;BHJN2gL4/9xrRQeGmkAQzRrpFRqXFo1f0xErmCXFxqw3b30RsLw1OmbZHWFPBudJ77flbaTub6DJAO1FyF9w==" data-copy="Copy" data-copied="Copied"></script>
  
  
  
  <script src="/lib/zoom/zoom.min.f592a181a15d2a5b042daa7f746c3721acf9063f8b6acd175d989129865a37d400ae0e85b640f9ad42cd98d1f8ad30931718cf8811abdcc5fcb264400d1a2b0c.js" integrity="sha512-9ZKhgaFdKlsELap/dGw3Iaz5Bj&#43;Las0XXZiRKYZaN9QArg6FtkD5rULNmNH4rTCTFxjPiBGr3MX8smRADRorDA=="></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  
  <meta property="og:url" content="//localhost:1313/manager_mockup/">
  <meta property="og:site_name" content="GC Education Analytics LLC">
  <meta property="og:title" content="GC Education Analytics LLC">
  <meta property="og:description" content="&lt;!DOCTYPE html&gt; MailFlow Manager MailFlow Manager Emails Tasks LEAVE AS UNREAD MARK AS READ MOVE TO TRASH REPLY LATER Loading emails...">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="GC Education Analytics LLC">
  <meta name="twitter:description" content="&lt;!DOCTYPE html&gt; MailFlow Manager MailFlow Manager Emails Tasks LEAVE AS UNREAD MARK AS READ MOVE TO TRASH REPLY LATER Loading emails...">

    
    <meta name="twitter:image" content="//localhost:1313/img/blowfish.jpg" />
    <meta property="og:image" content="//localhost:1313/img/blowfish.jpg" />
    
  
  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "GC Education Analytics LLC: Empowering Educators Through Data",
    "name": "",
    "headline": "",
    
    "abstract": "\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n  \u003cbase target=\u0022_top\u0022\u003e\n  \u003cmeta name=\u0022viewport\u0022 content=\u0022width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\u0022\u003e\n  \u003ctitle\u003eMailFlow Manager\u003c\/title\u003e\n  \u003clink href=\u0022https:\/\/fonts.googleapis.com\/css2?family=Inter:wght@300;400;500;600;700\u0026display=swap\u0022 rel=\u0022stylesheet\u0022\u003e\n  \u003cstyle\u003e\n    \/* CSS Variables for consistent theming - Defaulting to a sleek dark mode *\/\n    :root {\n      --primary-color: #3b3b3b; \/* Darker grey *\/\n      --primary-dark: #2a2a2a; \/* Even darker grey for accents *\/\n      --secondary-color: #555555; \/* Muted mid-grey *\/\n      --accent-color: #444444; \/* Another dark grey accent *\/\n      --success-color: #28a745; \/* Standard green *\/\n      --warning-color: #ffc107; \/* Standard orange *\/\n      --danger-color: #dc3545; \/* Standard red *\/\n      --background-color: #1a1a1a; \/* Deep dark background *\/\n      --card-background: #2b2b2b; \/* Slightly lighter card background *\/\n      --text-primary: #e0e0e0; \/* Light grey text *\/\n      --text-secondary: #b0b0b0; \/* Muted light grey text *\/\n      --text-muted: #808080; \/* Darker muted text *\/\n      --border-color: #3a3a3a; \/* Darker borders *\/\n      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.2);\n      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.25);\n      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.3);\n      --radius-sm: 8px;\n      --radius-md: 12px;\n      --radius-lg: 16px;\n    }\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n      }\n    \/* Aggressive Reset for Mobile Margins\/Padding *\/\n    html, body {\n        margin: 0;\n        padding: 0;\n        width: 100%;\n        height: 100%;\n        box-sizing: border-box; \/* Include padding\/border in element\u0027s total width and height *\/\n    }\n    \/* BASIC CSS - Mobile-First Design (Defaults for small screens) *\/\n    body {\n      font-family: \u0027Inter\u0027, -apple-system, BlinkMacSystemFont, \u0027Segoe UI\u0027, Roboto, sans-serif;\n      background: linear-gradient(135deg, var(--background-color) 0%, #2a2a2a 100%); \/* Modern dark gradient *\/\n      color: var(--text-primary);\n      display: flex;\n      flex-direction: column;\n      overflow: hidden; \/* Prevent body scroll during swipe *\/\n      font-size: 1.25rem; \/* Increased BASE FONT SIZE for MOBILE (20px) *\/\n      line-height: 1.6;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n    }\n    .container {\n      width: 100%; \/* Full width on mobile *\/\n      height: 100%; \/* Full height on mobile *\/\n      margin: 0 auto; \/* Centers on desktop, but width:100% overrides on mobile *\/\n      padding: 0 12px; \/* REMOVE ALL CONTAINER PADDING ON MOBILE FOR EDGE-TO-EDGE CARD *\/\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      overflow: hidden; \/* Prevent container scroll during swipe *\/\n    }\n    header {\n      background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-color) 100%);\n      color: white;\n      padding: 24px 20px; \/* Generous internal padding *\/\n      text-align: center;\n      box-shadow: var(--shadow-lg);\n      flex-shrink: 0;\n      position: relative;\n      overflow: hidden;\n      margin: 0; \/* REMOVE NEGATIVE MARGINS, HEADER IS NOW FULL WIDTH *\/\n    }\n    header::before {\n      content: \u0027\u0027; position: absolute; top: 0; left: 0; right: 0; bottom: 0;\n      background: linear-gradient(45deg, rgba(255,255,255,0.05) 0%, transparent 100%);\n      pointer-events: none;\n    }\n    h1 {\n      margin: 0;\n      font-size: 2.5rem; \/* Scaled up from previous 2.2rem *\/\n      font-weight: 700;\n      letter-spacing: -0.025em;\n      text-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    }\n    \/* Enhanced navigation *\/\n    nav {\n      background: var(--card-background);\n      padding: 16px 20px; \/* Generous internal padding *\/\n      margin: 0 0 12px 0; \/* REMOVE MARGIN-BOTTOM, NAV IS NOW FULL WIDTH *\/\n      box-shadow: var(--shadow-sm);\n      display: flex;\n      justify-content: space-around;\n      gap: 16px;\n      flex-shrink: 0;\n      border-bottom: 1px solid var(--border-color);\n    }\n    nav button {\n      background: var(--background-color);\n      border: 2px solid transparent;\n      padding: 16px 24px; \/* Larger padding for better touch targets *\/\n      border-radius: var(--radius-md);\n      cursor: pointer;\n      font-size: 2.2rem; \/* Scaled up from 1.1rem *\/\n      font-weight: 500;\n      flex-grow: 1;\n      transition: all 0.2s ease;\n      color: var(--text-secondary);\n      position: relative;\n      overflow: hidden;\n      min-height: 48px; \/* Minimum touch target size *\/\n    }\n    nav button::before {\n      content: \u0027\u0027; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;\n      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);\n      transition: left 0.5s;\n    }\n    nav button:hover::before { left: 100%; }\n    nav button.active {\n      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));\n      color: white;\n      border-color: var(--primary-dark);\n      box-shadow: var(--shadow-md);\n      transform: translateY(-1px);\n    }\n    nav button:hover:not(.active) {\n      background: var(--border-color);\n      transform: translateY(-1px);\n    }\n    \/* Dashboard styling - full screen card container *\/\n    .dashboard-view {\n        \/* Keep these for email cards if they still use this view *\/\n        flex-grow: 1;\n        display: flex; \/* Keep as flex to manage email or task views *\/\n        justify-content: center;\n        align-items: center;\n        padding: 0;\n        text-align: center;\n        position: relative;\n        overflow: hidden;\n        width: 100%;\n        height: 100%;\n    }\n\n    \/* NEW: Container for the task cards *\/\n    .task-grid-container {\n        display: grid;\n        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n        gap: 20px; \/* Space between cards *\/\n        padding: 20px; \/* Padding around the grid *\/\n        overflow-y: auto; \/* Enable vertical scrolling if content overflows *\/\n        align-content: start; \/* Align items to the start of the grid (top) *\/\n        width: 100%; \/* Take full width of its parent *\/\n        height: 100%; \/* Take full height of its parent *\/\n        box-sizing: border-box; \/* Include padding in the width\/height *\/\n    }\n\n    .card-wrapper {\n        width: 100%; height: 100%; \/* Take full width\/height of dashboard-view *\/\n        position: relative; display: flex; justify-content: center; align-items: center;\n        padding: 0; \/* NO PADDING ON CARD-WRAPPER FOR EDGE-TO-EDGE CARD *\/\n        box-sizing: border-box;\n    }\n    \/* Enhanced email card with modern design *\/\n    .email-card {\n      background: var(--card-background);\n      border-radius: var(--radius-lg);\n      box-shadow: var(--shadow-lg);\n      margin: 0; \/* NO EXTERNAL MARGINS *\/\n      padding: 28px; \/* GENEROUS INTERNAL PADDING FOR CONTENT READABILITY *\/\n      overflow: hidden; position: relative; text-align: left;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease-out;\n      touch-action: pinch-zoom; cursor: grab;\n      width: 100%; height: 100%; \/* FILL CARD-WRAPPER\u0027S INTERNAL SPACE *\/\n      box-sizing: border-box;\n      display: flex; flex-direction: column; justify-content: space-between;\n      border: 1px solid var(--border-color);\n    }\n    .email-card::before {\n      content: \u0027\u0027; position: absolute; top: 0; left: 0; right: 0; height: 4px;\n      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));\n      border-top-left-radius: var(--radius-lg);\n      border-top-right-radius: var(--radius-lg);\n    }\n    .email-card.dragging {\n      transition: none; cursor: grabbing;\n      box-shadow: 0 20px 25px rgba(0, 0, 0, 0.15);\n    }\n    .email-card-header h3 {\n      margin: 0 0 12px 0; color: var(--text-primary);\n      font-size: 2.2rem !important; \/* Scaled up from 1.6rem *\/\n      font-weight: 600; line-height: 1.3;\n      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;\n    }\n    .email-card-header p {\n      margin: 0 0 8px 0; font-size: 2rem !important; \/* Scaled up from 0.9rem *\/ color: var(--text-secondary); font-weight: 400;\n      line-height: 1.4;\n    }\n    \/* BEGIN SNIPPET FONT SIZE AND HEIGHT ADJUSTMENT (Increased specificity with ID to try and win) *\/\n    #emailCardContainer .email-card-snippet { \/* Added \u0027#emailCardContainer\u0027 for higher specificity *\/\n      flex-grow: 1; margin: 16px 0;\n      font-size: 2rem !important; \/* VERY SIGNIFICANTLY INCREASED SNIPPET FONT FOR MOBILE (32px on 20px base) *\/\n      line-height: 1.6;\n      color: var(--text-primary);\n      max-height: 300px !important; \/* Increased max-height for more snippet visibility on mobile *\/\n      overflow: hidden;\n      display: -webkit-box;\n      -webkit-line-clamp: 10; \/* Increased line clamp to allow more lines *\/\n      -webkit-box-orient: vertical;\n    }\n    \/* ENSURE ANY P TAGS OR OTHER TEXT ELEMENTS INSIDE ARE ALSO SCALED *\/\n    #emailCardContainer .email-card-snippet p,\n    #emailCardContainer .email-card-snippet span,\n    #emailCardContainer .email-card-snippet div {\n        font-size: inherit; \/* Ensure children inherit or use this directly *\/\n    }\n    \/* END SNIPPET FONT SIZE AND HEIGHT ADJUSTMENT *\/\n\n    .email-card-meta {\n      font-size: 1rem; \/* Scaled up from 0.8rem *\/ color: var(--text-muted); margin-top: 12px; text-align: right; font-weight: 500;\n    }\n    \/* Enhanced button styling *\/\n    .email-card-actions {\n      display: grid; grid-template-columns: 1fr 1fr; \/* 2 columns on mobile *\/ gap: 12px; \/* LARGER GAP *\/\n      margin-top: 20px; max-height: 200px; overflow-y: auto;\n    }\n    .email-card-actions button {\n      background: var(--background-color); border: 1px solid var(--border-color);\n      padding: 16px 20px; \/* Increased padding *\/ border-radius: var(--radius-sm);\n      cursor: pointer; font-size: 1.8rem; \/* Scaled up from 1.1rem *\/ font-weight: 500; color: var(--text-primary);\n      transition: all 0.2s ease; position: relative; overflow: hidden;\n      min-height: 58px; \/* Increased min height for touch targets *\/\n    }\n    .email-card-actions button:hover {\n      background: var(--primary-color); color: white; border-color: var(--primary-color);\n      transform: translateY(-1px); box-shadow: var(--shadow-sm);\n    }\n    .email-card-actions button:active { transform: translateY(0); }\n\n    \/* Swipe Hint Overlays *\/\n    .swipe-hint {\n        position: absolute;\n        font-size: 3.5rem; \/* Scaled up from 2.8rem *\/\n        font-weight: 700;\n        color: white;\n        text-shadow: 0 2px 10px rgba(0,0,0,0.8);\n        opacity: 0;\n        transition: opacity 0.15s ease-in-out;\n        pointer-events: none;\n        z-index: 5;\n        white-space: nowrap;\n        text-align: center;\n        \/* Positioned relative to dashboard-view, covers full area for alignment *\/\n        top: 0; left: 0; width: 100%; height: 100%;\n        display: flex; \/* Use flexbox for inner centering and alignment *\/\n        align-items: center; \/* Vertically center for horizontal hints *\/\n        justify-content: center; \/* Horizontally center for vertical hints *\/\n        box-sizing: border-box; \/* Include padding in hint dimensions *\/\n    }\n    .swipe-hint.show { opacity: 1; }\n    \/* Positioning relative to swipe direction (words appear ON THE SIDE OF THE ACTION) *\/\n    .swipe-hint.left { \/* Swipe Left, UNREAD appears on LEFT side of screen *\/\n        justify-content: flex-start; \/* Align text to start *\/\n        padding-left: 30px; \/* Move text in from edge *\/\n        color: var(--danger-color);\n        background: linear-gradient(90deg, rgba(220,53,69,0.3), transparent); \/* Red gradient *\/\n    }\n    .swipe-hint.right { \/* Swipe Right, READ appears on RIGHT side of screen *\/\n        justify-content: flex-end; \/* Align text to end *\/\n        padding-right: 30px; \/* Move text in from edge *\/\n        color: var(--success-color);\n        background: linear-gradient(270deg, rgba(40,167,69,0.3), transparent); \/* Green gradient *\/\n    }\n    .swipe-hint.up { \/* Swipe Up, TRASH appears on TOP of screen *\/\n        top: 20px; bottom: auto; \/* Better positioning with margin *\/\n        color: var(--danger-color);\n        background: linear-gradient(180deg, rgba(220,53,69,0.3), transparent); \/* Red gradient *\/\n        border-radius: var(--radius-lg);\n        width: calc(100% - 40px); height: calc(100% - 40px); \/* Account for margins *\/\n        left: 20px;\n        align-items: flex-start; \/* Align text to top *\/\n        padding-top: 30px; \/* Move text down *\/\n    }\n    .swipe-hint.down { \/* Swipe Down, REPLY LATER appears on BOTTOM of screen *\/\n        bottom: 20px; top: auto; \/* Better positioning with margin *\/\n        color: var(--warning-color);\n        background: linear-gradient(0deg, rgba(255,193,7,0.3), transparent); \/* Orange gradient *\/\n        border-radius: var(--radius-lg);\n        width: calc(100% - 40px); height: calc(100% - 40px); \/* Account for margins *\/\n        left: 20px;\n        align-items: flex-end; \/* Align text to bottom *\/\n        padding-bottom: 30px; \/* Move text up *\/\n    }\n\n    \/* Modals *\/\n    .modal {\n      display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%;\n      overflow: auto; background: rgba(0,0,0,0.7); backdrop-filter: blur(8px);\n      justify-content: center; align-items: center; padding: 20px; animation: fadeIn 0.2s ease-out;\n      overflow-x: auto;\n    }\n    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n    .modal-content {\n      background: var(--card-background); margin: auto;\n      padding: 28px; border: none; border-radius: var(--radius-lg);\n      width: 95%; max-width: 700px; max-height: 85vh; display: flex; flex-direction: column;\n      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.35); position: relative; animation: slideUp 0.3s ease-out;\n      overflow-x: auto;\n    }\n    @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }\n    .modal-content h2 { margin-top: 0; margin-bottom: 20px; color: var(--text-primary); font-weight: 600; font-size: 1.6rem; } \/* Scaled up *\/\n    .modal-body {\n        flex-grow: 1; overflow-y: auto; border: 1px solid var(--border-color);\n        padding: 20px; background: var(--background-color); border-radius: var(--radius-sm);\n        font-size: 1.1rem; \/* Scaled up *\/ line-height: 1.6; margin-bottom: 16px;\n    }\n    .modal-body.raw-html { white-space: pre-wrap; font-family: \u0027SF Mono\u0027, Monaco, \u0027Cascadia Code\u0027, \u0027Roboto Mono\u0027, Consolas, \u0027Courier New\u0027, monospace; }\n    .close-button {\n      color: var(--text-muted); float: right; font-size: 38px; \/* Scaled up *\/ font-weight: bold;\n      position: absolute; top: 20px; right: 24px; cursor: pointer; transition: color 0.2s ease;\n    }\n    .close-button:hover, .close-button:focus { color: var(--text-primary); text-decoration: none; }\n    \/* Enhanced form styling *\/\n    .modal-content label {\n      display: block; width: 100%; margin-bottom: 12px; font-weight: 500; color: var(--text-primary); font-size: 1.1rem; \/* Scaled up *\/\n    }\n    .modal-content input, .modal-content textarea, .modal-content select {\n      display: block; width: 100%; margin-bottom: 20px; padding: 18px; \/* Increased padding *\/\n      border: 2px solid var(--border-color); border-radius: var(--radius-sm); font-size: 1.1rem; \/* Scaled up *\/\n      transition: border-color 0.2s ease; background: var(--background-color); color: var(--text-primary);\n      box-sizing: border-box;\n    }\n    .modal-content input:focus, .modal-content textarea:focus, .modal-content select:focus {\n      outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.2);\n    }\n    .modal-content button {\n      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));\n      color: white; border: none; padding: 18px 36px; \/* Increased padding *\/ border-radius: var(--radius-sm);\n      cursor: pointer; font-size: 1.1rem; \/* Scaled up *\/ font-weight: 600; margin-top: 16px;\n      transition: all 0.2s ease; box-shadow: var(--shadow-md);\n      min-height: 52px; \/* Increased min-height *\/\n    }\n    .modal-content button:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }\n    .modal-content button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; box-shadow: none; }\n    \/* Enhanced action buttons *\/\n    .full-email-actions {\n      display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 20px; padding-top: 20px;\n      border-top: 1px solid var(--border-color);\n    }\n    .full-email-actions button {\n      background: var(--background-color); color: var(--text-primary); border: 1px solid var(--border-color);\n      padding: 16px 20px; \/* Increased padding *\/ border-radius: var(--radius-sm); cursor: pointer;\n      font-size: 1.8rem !important; \/* Scaled up *\/ font-weight: 500; margin-top: 0; transition: all 0.2s ease;\n      min-height: 52px; \/* Increased min-height *\/\n    }\n    .full-email-actions button:hover {\n      background: var(--primary-color); color: white; border-color: var(--primary-color);\n    }\n    \/* Enhanced snackbar *\/\n    #snackbar {\n      visibility: hidden; min-width: 300px; margin-left: -150px; background: var(--card-background);\n      color: var(--text-primary); text-align: center; border-radius: var(--radius-md);\n      padding: 22px; \/* Increased padding *\/ position: fixed; z-index: 101; left: 50%; bottom: 50px;\n      font-size: 1.1rem; \/* Scaled up *\/ font-weight: 500; box-shadow: var(--shadow-lg); border: 1px solid var(--border-color);\n    }\n    #snackbar.show {\n      visibility: visible;\n      -webkit-animation: snackbarFadeIn 0.5s, snackbarFadeOut 0.5s 2.5s;\n      animation: snackbarFadeIn 0.5s, snackbarFadeOut 0.5s 2.5s;\n    }\n    #snackbar button {\n        background: var(--success-color); color: white; border: none;\n        padding: 14px 22px; \/* Increased padding *\/ margin-left: 16px; cursor: pointer; border-radius: var(--radius-sm); font-weight: 500;\n        transition: background 0.2s ease; min-height: 44px; \/* Increased min-height *\/\n    }\n    #snackbar button:hover { background: #38a169; }\n    @keyframes snackbarFadeIn { from { bottom: 0; opacity: 0; transform: scale(0.8); } to { bottom: 50px; opacity: 1; transform: scale(1); } }\n    @keyframes snackbarFadeOut { from { bottom: 50px; opacity: 1; transform: scale(1); } to { bottom: 0; opacity: 0; transform: scale(0.8); } }\n\n    \/* Task card styling - apply adjustments for grid *\/\n    .task-card {\n        background: var(--card-background);\n        border-radius: var(--radius-md);\n        box-shadow: var(--shadow-sm);\n        padding: 28px; \/* Increased padding *\/\n        \/* Remove margin-bottom as gap handles spacing now *\/\n        margin-bottom: 0;\n        border: 1px solid var(--border-color);\n        transition: box-shadow 0.2s ease;\n        \/* Ensure cards fill grid cell *\/\n        width: 100%;\n        height: auto; \/* Let height adjust to content *\/\n        display: flex;\n        flex-direction: column;\n        overflow-x: auto;\n    }\n\n    .task-card:hover {\n        box-shadow: var(--shadow-md);\n    }\n    .task-card-header h3 {\n        color: var(--text-primary);\n        font-size: 2.4rem !important; \/* Scaled up from 1.25rem *\/\n        font-weight: 600;\n        margin-bottom: 12px;\n    }\n    .task-card-details p {\n        margin: 0 0 8px 0;\n        font-size: 2.2rem !important; \/* Scaled up from 0.9rem *\/\n        color: var(--text-secondary);\n    }\n    .task-card-actions {\n        display: flex;\n        gap: 12px;\n        margin-top: auto; \/* Push actions to the bottom of the card *\/\n        padding-top: 10px; \/* Small padding above buttons *\/\n        border-top: 1px solid var(--border-color); \/* Separator for actions *\/\n        flex-wrap: wrap; \/* Allow buttons to wrap if too many *\/\n        justify-content: flex-end; \/* Align buttons to the right *\/\n    }\n    .task-card-actions button {\n        background: var(--background-color);\n        border: 1px solid var(--border-color);\n        padding: 14px 22px; \/* Increased padding *\/\n        border-radius: var(--radius-sm);\n        cursor: pointer;\n        font-size: 2rem !important; \/* Scaled up from 0.9rem *\/\n        font-weight: 500;\n        transition: all 0.2s ease;\n        min-height: 48px; \/* Increased min-height *\/\n    }\n    .task-card-actions button.done {\n        background: var(--success-color);\n        color: white;\n        border-color: var(--success-color);\n    }\n    .task-card-actions button.edit {\n        background: var(--warning-color);\n        color: white;\n        border-color: var(--warning-color);\n    }\n    .task-card-actions button.email {\n        background: var(--accent-color);\n        color: white;\n        border-color: var(--accent-color);\n    }\n    \/* Loading states *\/\n    #loadingEmails,\n    #loadingTasks {\n        color: var(--text-secondary);\n        font-size: 4rem; \/* Scaled up from 1.5rem *\/\n        font-weight: 500;\n        padding: 20px;\n    }\n\n    \/* Responsive design for larger screens (min-width: 600px) *\/\n    @media (min-width: 600px) {\n      body { font-size: 1.05rem; } \/* Adjusted base font size for desktop (16.8px) - slightly larger than 1rem *\/\n      .container { padding: 20px; } \/* Add padding for wider screens *\/\n      nav { border-radius: var(--radius-md); margin-bottom: 16px; } \/* Restore rounded corners *\/\n      .email-card { padding: 24px; } \/* Adjust padding for desktop *\/\n      .email-card-header h3 { font-size: 1.5rem; } \/* Adjusted for desktop *\/\n      \/* BEGIN DESKTOP SNIPPET FONT SIZE AND HEIGHT ADJUSTMENT *\/\n      #emailCardContainer .email-card-snippet { font-size: 1.1rem; max-height: 150px; -webkit-line-clamp: 6; } \/* Adjusted for desktop *\/\n      #emailCardContainer .email-card-snippet p,\n      #emailCardContainer .email-card-snippet span,\n      #emailCardContainer .email-card-snippet div {\n          font-size: inherit;\n      }\n      \/* END DESKTOP SNIPPET FONT SIZE AND HEIGHT ADJUSTMENT *\/\n      .email-card-meta { font-size: 0.85rem; } \/* Adjusted meta font size for desktop *\/\n      .email-card-actions { grid-template-columns: repeat(3, 1fr); gap: 12px; } \/* 3 columns on tablet *\/\n      .full-email-actions { grid-template-columns: repeat(3, 1fr); }\n      .swipe-hint { font-size: 3rem; } \/* Adjusted hint size for desktop *\/\n      \/* Better positioning for larger screens *\/\n      .swipe-hint.left { left: 40px; width: calc(100% - 80px); }\n      .swipe-hint.right { right: 40px; width: calc(100% - 80px); }\n      .swipe-hint.up { top: 40px; width: calc(100% - 80px); height: calc(100% - 80px); left: 40px; }\n      .swipe-hint.down { bottom: 40px; width: calc(100% - 80px); height: calc(100% - 80px); left: 40px; }\n\n      \/* Desktop adjustments for modal and form fonts *\/\n      .modal-content h2 { font-size: 1.8rem; }\n      .modal-body { font-size: 1rem; }\n      .modal-content label { font-size: 1rem; }\n      .modal-content input, .modal-content textarea, .modal-content select { font-size: 1rem; }\n      .modal-content button { font-size: 1.1rem; }\n      .full-email-actions button { font-size: 1rem; }\n      #snackbar { font-size: 1rem; }\n\n      \/* Desktop adjustments for task cards *\/\n      .task-card-header h3 { font-size: 1.3rem; }\n      .task-card-details p { font-size: 0.95rem; }\n      .task-card-actions button { font-size: 0.95rem; }\n    }\n\n    \/* NEW: Media Query for Larger Desktops \/ Laptops \/ Large Tablets (e.g., iPad Pro landscape) *\/\n    \/* This media query covers from 1024px wide screens and up *\/\n    @media (min-width: 1024px) {\n      body {\n        font-size: 1.0rem;\n      }\n      .container {\n        max-width: 1200px;\n        padding: 40px;\n      }\n\n      \/* HEADER ADJUSTMENTS for 1024px\u002b *\/\n      header {\n        padding: 24px 20px; \/* Can go back to original generous padding for large screens *\/\n      }\n      header h1 {\n        font-size: 3.0rem; \/* Re-adjust header font for large screens *\/\n      }\n\n      \/* FOOTER ADJUSTMENTS for 1024px\u002b *\/\n      footer {\n        padding: 15px 20px; \/* Can go back to original padding *\/\n        font-size: 1.05rem; \/* Slightly larger for large screens *\/\n      }\n\n      nav button {\n        font-size: 1.3rem;\n      }\n      .email-card-header h3 {\n        font-size: 1.8rem !important;\n      }\n      #emailCardContainer .email-card-snippet {\n        font-size: 1.1rem !important;\n        max-height: 200px !important;\n        -webkit-line-clamp: 8;\n      }\n      .email-card-header p,\n      .email-card-details p {\n        font-size: 0.95rem !important;\n      }\n      .task-grid-container {\n        grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));\n        gap: 30px;\n      }\n    }\n  \u003c\/style\u003e\n\u003c\/head\u003e\n\u003cbody\u003e\n  \u003cdiv class=\u0022container\u0022\u003e\n    \u003cheader\u003e\n      \u003ch1\u003eMailFlow Manager\u003c\/h1\u003e\n    \u003c\/header\u003e\n\n    \u003cnav\u003e\n      \u003cbutton id=\u0022showEmailsBtn\u0022 class=\u0022active\u0022\u003eEmails\u003c\/button\u003e\n      \u003cbutton id=\u0022showTasksBtn\u0022\u003eTasks\u003c\/button\u003e\n    \u003c\/nav\u003e\n\n    \u003cdiv id=\u0022emailDashboard\u0022 class=\u0022dashboard-view\u0022\u003e\n      \u003cdiv id=\u0022swipeHintLeft\u0022 class=\u0022swipe-hint left\u0022\u003eLEAVE AS UNREAD\u003c\/div\u003e\n      \u003cdiv id=\u0022swipeHintRight\u0022 class=\u0022swipe-hint right\u0022\u003eMARK AS READ\u003c\/div\u003e\n      \u003cdiv id=\u0022swipeHintUp\u0022 class=\u0022swipe-hint up\u0022\u003eMOVE TO TRASH\u003c\/div\u003e\n      \u003cdiv id=\u0022swipeHintDown\u0022 class=\u0022swipe-hint down\u0022\u003eREPLY LATER\u003c\/div\u003e\n\n      \u003cdiv id=\u0022emailCardContainer\u0022 class=\u0022card-wrapper\u0022\u003e\n        \u003cp id=\u0022loadingEmails\u0022\u003eLoading emails...\u003c\/p\u003e",
    "inLanguage": "en-US",
    "url" : "\/\/localhost:1313\/manager_mockup\/",
    "author" : {
      "@type": "Person",
      "name": ""
    },
    
    
    
    
    
    
    
    
    "mainEntityOfPage": "true",
    "wordCount": "120"
  }]
  </script>


  
  
  
  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>






















  
  



  
  
  
  
  <meta name="theme-color"/>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a>
  </div>
  
  
  <div class="min-h-[148px]"></div>
<div class="fixed inset-x-0 pl-[24px] pr-[24px]" style="z-index:100">
  <div id="menu-blur" class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div>
  <div class="relative max-w-[64rem] ml-auto mr-auto">
    <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3">
    
    
    
    <div>
        <a href="/" class="flex">
            <span class="sr-only">GC Education Analytics LLC</span>

            
            <img src="/images/gceducationlogo.png" width="441" height="402"
                class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt="GC Education Analytics LLC" />
            

        </a>
    </div>
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            

        </nav>
        <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">

            
            
            
  <a href="/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="GC Education Analytics LLC: Empowering Educators Through Data">
        Home
    </p>
</a>



            
            
  <a href="/about/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="About GC Education Analytics LLC">
        About Us
    </p>
</a>



            
             
  <div>
  <div class="cursor-pointer flex items-center nested-menu">
    
    <a  href="/services/"   class="text-base font-medium text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="Our Services">
      Services
    </a>
    <span>
      

  <span class="relative block icon">
    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>

  </span>


    </span>
  </div>
  <div class="absolute menuhide">
    <div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl">
      <div class="flex flex-col space-y-3">
        
        <a href="/services/at-risk-analysis/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
          
          <p class="text-sm font-sm" title="At-Risk Student Analysis &amp; Intervention">
            At-Risk Analysis
          </p>
        </a>
        
        <a href="/services/custom-solutions/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
          
          <p class="text-sm font-sm" title="Personalized Software Development for Schools">
            Custom Software
          </p>
        </a>
        
        <a href="/services/custom-analysis/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
          
          <p class="text-sm font-sm" title="Advanced Data Analysis &amp; Strategic Reporting">
            Customized Data Analysis
          </p>
        </a>
        
        <a href="/services/automated-teacher-coverage/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
          
          <p class="text-sm font-sm" title="Automated In-House Teacher Coverage Program">
            Teacher Coverage
          </p>
        </a>
        
      </div>
    </div>
  </div>
</div>



            
            
  <a href="/contact/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="Contact GC Education Analytics LLC">
        Contact
    </p>
</a>



            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class=" flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-1 rtl:ml-1">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 md:hidden">

        <label id="menu-button" class="block">
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li id="menu-close-button">
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
    <a href="/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="GC Education Analytics LLC: Empowering Educators Through Data">
            Home
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/about/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="About GC Education Analytics LLC">
            About Us
        </p>
    </a>
</li>




                    

                     
  <li class="mt-1">
    <a href="/services/" class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="Our Services">
            Services
        </p>
        <span>
            

  <span class="relative block icon">
    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>

  </span>


        </span>
    </a>
</li>

<li class="mt-1">
    <a href="/services/at-risk-analysis/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-sm font-small" title="At-Risk Student Analysis &amp; Intervention">
            At-Risk Analysis
        </p>
    </a>
</li>

<li class="mt-1">
    <a href="/services/custom-solutions/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-sm font-small" title="Personalized Software Development for Schools">
            Custom Software
        </p>
    </a>
</li>

<li class="mt-1">
    <a href="/services/custom-analysis/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-sm font-small" title="Advanced Data Analysis &amp; Strategic Reporting">
            Customized Data Analysis
        </p>
    </a>
</li>

<li class="mt-1">
    <a href="/services/automated-teacher-coverage/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-sm font-small" title="Automated In-House Teacher Coverage Program">
            Teacher Coverage
        </p>
    </a>
</li>

<li class="mb-2"></li>




                    

                    
  <li class="mt-1">
    <a href="/contact/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="Contact GC Education Analytics LLC">
            Contact
        </p>
    </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>





  </div>
</div>
<script>
  window.addEventListener('scroll', function (e) {
    var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
    var background_blur = document.getElementById('menu-blur');
    background_blur.style.opacity = (scroll / 300);
  });
</script>

  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  
  
  
  
  
  
 
  
   
  
 



<div id="hero" class="h-[150px] md:h-[200px]"></div>



    
    <div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom"
    style="background-image:url(/img/background.svg);">
    


    <div class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal">
    </div>
    <div
        class="absolute inset-0 opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal">
    </div>
</div>

<div id="background-blur" class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div>
<script>
    window.addEventListener('scroll', function (e) {
        var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        var background_blur = document.getElementById('background-blur');
        background_blur.style.opacity = (scroll / 300)
    });
</script>

  
  

  <header id="single_header" class="mt-5 max-w-prose">
    
    <ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden">
  
  
    
  
  <li class="hidden">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/"
      >GC Education Analytics LLC: Empowering Educators Through Data</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="hidden">
    <a
      class="hover:underline decoration-neutral-300 dark:underline-neutral-600"
      href="/manager_mockup/"
      ></a
    ><span class="px-1 text-primary-500">/</span>
  </li>

</ol>


    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      





  
  







  

















  



<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="0001-01-01T00:00:00&#43;00:00">1 January 0001</time><span class="px-2 text-primary-500">&middot;</span>


<script type="text/javascript" src="/js/zen-mode.min.2a0a1375509c03daf41c53a9831aa2d560895b7a2528c3eb3b56e7b11a135c7529e49727162a053b6193be8340270a8342f42c69f3d7e262ae54bc248eaac8f5.js" integrity="sha512-KgoTdVCcA9r0HFOpgxqi1WCJW3olKMPrO1bnsRoTXHUp5JcnFioFO2GTvoNAJwqDQvQsafPX4mKuVLwkjqrI9Q=="></script>

<span class="mb-[2px]">
    <span id="zen-mode-button"
          class="text-lg hover:text-primary-500"
          title="Enable zen mode"
          data-title-i18n-disable="Enable zen mode"
          data-title-i18n-enable="Disable zen mode">
        <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px">
    <path fill="currentColor" d="M 12.980469 4 C 9.1204688 4 5.9804688 7.14 5.9804688 11 L 6 26 L 9.9804688 26 L 9.9804688 11 C 9.9804688 9.35 11.320469 8 12.980469 8 L 40.019531 8 C 41.679531 8 43.019531 9.35 43.019531 11 L 43.019531 39 C 43.019531 40.65 41.679531 42 40.019531 42 L 29 42 C 29 43.54 28.420938 44.94 27.460938 46 L 40.019531 46 C 43.879531 46 47.019531 42.86 47.019531 39 L 47.019531 11 C 47.019531 7.14 43.879531 4 40.019531 4 L 12.980469 4 z M 7 28 C 4.794 28 3 29.794 3 32 L 3 42 C 3 44.206 4.794 46 7 46 L 23 46 C 25.206 46 27 44.206 27 42 L 27 32 C 27 29.794 25.206 28 23 28 L 7 28 z M 7 32 L 23 32 L 23.001953 42 L 7 42 L 7 32 z"/>
</svg>
  </span>

</span>
    </span>
</span>
  

  
  
</div>


<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
</div>




<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
  
  
</div>







    </div>

    
    
    
    
    

    

    
      
      
        
        
<div class="flex author">
  
  <div class="place-self-center">
    
    
    <div class="text-2xl sm:text-lg">
</div>
  </div>
</div>

      

      

      
      <div class="mb-5"></div>
      

    

  </header>
  
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
    
    

      <div class="min-w-0 min-h-0 max-w-fit">
        
        


        <div class="article-content max-w-prose mb-20">
          <!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>MailFlow Manager</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* CSS Variables for consistent theming - Defaulting to a sleek dark mode */
    :root {
      --primary-color: #3b3b3b; /* Darker grey */
      --primary-dark: #2a2a2a; /* Even darker grey for accents */
      --secondary-color: #555555; /* Muted mid-grey */
      --accent-color: #444444; /* Another dark grey accent */
      --success-color: #28a745; /* Standard green */
      --warning-color: #ffc107; /* Standard orange */
      --danger-color: #dc3545; /* Standard red */
      --background-color: #1a1a1a; /* Deep dark background */
      --card-background: #2b2b2b; /* Slightly lighter card background */
      --text-primary: #e0e0e0; /* Light grey text */
      --text-secondary: #b0b0b0; /* Muted light grey text */
      --text-muted: #808080; /* Darker muted text */
      --border-color: #3a3a3a; /* Darker borders */
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.2);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.25);
      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.3);
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      }
    /* Aggressive Reset for Mobile Margins/Padding */
    html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        box-sizing: border-box; /* Include padding/border in element's total width and height */
    }
    /* BASIC CSS - Mobile-First Design (Defaults for small screens) */
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, var(--background-color) 0%, #2a2a2a 100%); /* Modern dark gradient */
      color: var(--text-primary);
      display: flex;
      flex-direction: column;
      overflow: hidden; /* Prevent body scroll during swipe */
      font-size: 1.25rem; /* Increased BASE FONT SIZE for MOBILE (20px) */
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    .container {
      width: 100%; /* Full width on mobile */
      height: 100%; /* Full height on mobile */
      margin: 0 auto; /* Centers on desktop, but width:100% overrides on mobile */
      padding: 0 12px; /* REMOVE ALL CONTAINER PADDING ON MOBILE FOR EDGE-TO-EDGE CARD */
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      overflow: hidden; /* Prevent container scroll during swipe */
    }
    header {
      background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-color) 100%);
      color: white;
      padding: 24px 20px; /* Generous internal padding */
      text-align: center;
      box-shadow: var(--shadow-lg);
      flex-shrink: 0;
      position: relative;
      overflow: hidden;
      margin: 0; /* REMOVE NEGATIVE MARGINS, HEADER IS NOW FULL WIDTH */
    }
    header::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(45deg, rgba(255,255,255,0.05) 0%, transparent 100%);
      pointer-events: none;
    }
    h1 {
      margin: 0;
      font-size: 2.5rem; /* Scaled up from previous 2.2rem */
      font-weight: 700;
      letter-spacing: -0.025em;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    /* Enhanced navigation */
    nav {
      background: var(--card-background);
      padding: 16px 20px; /* Generous internal padding */
      margin: 0 0 12px 0; /* REMOVE MARGIN-BOTTOM, NAV IS NOW FULL WIDTH */
      box-shadow: var(--shadow-sm);
      display: flex;
      justify-content: space-around;
      gap: 16px;
      flex-shrink: 0;
      border-bottom: 1px solid var(--border-color);
    }
    nav button {
      background: var(--background-color);
      border: 2px solid transparent;
      padding: 16px 24px; /* Larger padding for better touch targets */
      border-radius: var(--radius-md);
      cursor: pointer;
      font-size: 2.2rem; /* Scaled up from 1.1rem */
      font-weight: 500;
      flex-grow: 1;
      transition: all 0.2s ease;
      color: var(--text-secondary);
      position: relative;
      overflow: hidden;
      min-height: 48px; /* Minimum touch target size */
    }
    nav button::before {
      content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transition: left 0.5s;
    }
    nav button:hover::before { left: 100%; }
    nav button.active {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      border-color: var(--primary-dark);
      box-shadow: var(--shadow-md);
      transform: translateY(-1px);
    }
    nav button:hover:not(.active) {
      background: var(--border-color);
      transform: translateY(-1px);
    }
    /* Dashboard styling - full screen card container */
    .dashboard-view {
        /* Keep these for email cards if they still use this view */
        flex-grow: 1;
        display: flex; /* Keep as flex to manage email or task views */
        justify-content: center;
        align-items: center;
        padding: 0;
        text-align: center;
        position: relative;
        overflow: hidden;
        width: 100%;
        height: 100%;
    }

    /* NEW: Container for the task cards */
    .task-grid-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px; /* Space between cards */
        padding: 20px; /* Padding around the grid */
        overflow-y: auto; /* Enable vertical scrolling if content overflows */
        align-content: start; /* Align items to the start of the grid (top) */
        width: 100%; /* Take full width of its parent */
        height: 100%; /* Take full height of its parent */
        box-sizing: border-box; /* Include padding in the width/height */
    }

    .card-wrapper {
        width: 100%; height: 100%; /* Take full width/height of dashboard-view */
        position: relative; display: flex; justify-content: center; align-items: center;
        padding: 0; /* NO PADDING ON CARD-WRAPPER FOR EDGE-TO-EDGE CARD */
        box-sizing: border-box;
    }
    /* Enhanced email card with modern design */
    .email-card {
      background: var(--card-background);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      margin: 0; /* NO EXTERNAL MARGINS */
      padding: 28px; /* GENEROUS INTERNAL PADDING FOR CONTENT READABILITY */
      overflow: hidden; position: relative; text-align: left;
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease-out;
      touch-action: pinch-zoom; cursor: grab;
      width: 100%; height: 100%; /* FILL CARD-WRAPPER'S INTERNAL SPACE */
      box-sizing: border-box;
      display: flex; flex-direction: column; justify-content: space-between;
      border: 1px solid var(--border-color);
    }
    .email-card::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      border-top-left-radius: var(--radius-lg);
      border-top-right-radius: var(--radius-lg);
    }
    .email-card.dragging {
      transition: none; cursor: grabbing;
      box-shadow: 0 20px 25px rgba(0, 0, 0, 0.15);
    }
    .email-card-header h3 {
      margin: 0 0 12px 0; color: var(--text-primary);
      font-size: 2.2rem !important; /* Scaled up from 1.6rem */
      font-weight: 600; line-height: 1.3;
      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
    }
    .email-card-header p {
      margin: 0 0 8px 0; font-size: 2rem !important; /* Scaled up from 0.9rem */ color: var(--text-secondary); font-weight: 400;
      line-height: 1.4;
    }
    /* BEGIN SNIPPET FONT SIZE AND HEIGHT ADJUSTMENT (Increased specificity with ID to try and win) */
    #emailCardContainer .email-card-snippet { /* Added '#emailCardContainer' for higher specificity */
      flex-grow: 1; margin: 16px 0;
      font-size: 2rem !important; /* VERY SIGNIFICANTLY INCREASED SNIPPET FONT FOR MOBILE (32px on 20px base) */
      line-height: 1.6;
      color: var(--text-primary);
      max-height: 300px !important; /* Increased max-height for more snippet visibility on mobile */
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 10; /* Increased line clamp to allow more lines */
      -webkit-box-orient: vertical;
    }
    /* ENSURE ANY P TAGS OR OTHER TEXT ELEMENTS INSIDE ARE ALSO SCALED */
    #emailCardContainer .email-card-snippet p,
    #emailCardContainer .email-card-snippet span,
    #emailCardContainer .email-card-snippet div {
        font-size: inherit; /* Ensure children inherit or use this directly */
    }
    /* END SNIPPET FONT SIZE AND HEIGHT ADJUSTMENT */

    .email-card-meta {
      font-size: 1rem; /* Scaled up from 0.8rem */ color: var(--text-muted); margin-top: 12px; text-align: right; font-weight: 500;
    }
    /* Enhanced button styling */
    .email-card-actions {
      display: grid; grid-template-columns: 1fr 1fr; /* 2 columns on mobile */ gap: 12px; /* LARGER GAP */
      margin-top: 20px; max-height: 200px; overflow-y: auto;
    }
    .email-card-actions button {
      background: var(--background-color); border: 1px solid var(--border-color);
      padding: 16px 20px; /* Increased padding */ border-radius: var(--radius-sm);
      cursor: pointer; font-size: 1.8rem; /* Scaled up from 1.1rem */ font-weight: 500; color: var(--text-primary);
      transition: all 0.2s ease; position: relative; overflow: hidden;
      min-height: 58px; /* Increased min height for touch targets */
    }
    .email-card-actions button:hover {
      background: var(--primary-color); color: white; border-color: var(--primary-color);
      transform: translateY(-1px); box-shadow: var(--shadow-sm);
    }
    .email-card-actions button:active { transform: translateY(0); }

    /* Swipe Hint Overlays */
    .swipe-hint {
        position: absolute;
        font-size: 3.5rem; /* Scaled up from 2.8rem */
        font-weight: 700;
        color: white;
        text-shadow: 0 2px 10px rgba(0,0,0,0.8);
        opacity: 0;
        transition: opacity 0.15s ease-in-out;
        pointer-events: none;
        z-index: 5;
        white-space: nowrap;
        text-align: center;
        /* Positioned relative to dashboard-view, covers full area for alignment */
        top: 0; left: 0; width: 100%; height: 100%;
        display: flex; /* Use flexbox for inner centering and alignment */
        align-items: center; /* Vertically center for horizontal hints */
        justify-content: center; /* Horizontally center for vertical hints */
        box-sizing: border-box; /* Include padding in hint dimensions */
    }
    .swipe-hint.show { opacity: 1; }
    /* Positioning relative to swipe direction (words appear ON THE SIDE OF THE ACTION) */
    .swipe-hint.left { /* Swipe Left, UNREAD appears on LEFT side of screen */
        justify-content: flex-start; /* Align text to start */
        padding-left: 30px; /* Move text in from edge */
        color: var(--danger-color);
        background: linear-gradient(90deg, rgba(220,53,69,0.3), transparent); /* Red gradient */
    }
    .swipe-hint.right { /* Swipe Right, READ appears on RIGHT side of screen */
        justify-content: flex-end; /* Align text to end */
        padding-right: 30px; /* Move text in from edge */
        color: var(--success-color);
        background: linear-gradient(270deg, rgba(40,167,69,0.3), transparent); /* Green gradient */
    }
    .swipe-hint.up { /* Swipe Up, TRASH appears on TOP of screen */
        top: 20px; bottom: auto; /* Better positioning with margin */
        color: var(--danger-color);
        background: linear-gradient(180deg, rgba(220,53,69,0.3), transparent); /* Red gradient */
        border-radius: var(--radius-lg);
        width: calc(100% - 40px); height: calc(100% - 40px); /* Account for margins */
        left: 20px;
        align-items: flex-start; /* Align text to top */
        padding-top: 30px; /* Move text down */
    }
    .swipe-hint.down { /* Swipe Down, REPLY LATER appears on BOTTOM of screen */
        bottom: 20px; top: auto; /* Better positioning with margin */
        color: var(--warning-color);
        background: linear-gradient(0deg, rgba(255,193,7,0.3), transparent); /* Orange gradient */
        border-radius: var(--radius-lg);
        width: calc(100% - 40px); height: calc(100% - 40px); /* Account for margins */
        left: 20px;
        align-items: flex-end; /* Align text to bottom */
        padding-bottom: 30px; /* Move text up */
    }

    /* Modals */
    .modal {
      display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%;
      overflow: auto; background: rgba(0,0,0,0.7); backdrop-filter: blur(8px);
      justify-content: center; align-items: center; padding: 20px; animation: fadeIn 0.2s ease-out;
      overflow-x: auto;
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .modal-content {
      background: var(--card-background); margin: auto;
      padding: 28px; border: none; border-radius: var(--radius-lg);
      width: 95%; max-width: 700px; max-height: 85vh; display: flex; flex-direction: column;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.35); position: relative; animation: slideUp 0.3s ease-out;
      overflow-x: auto;
    }
    @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    .modal-content h2 { margin-top: 0; margin-bottom: 20px; color: var(--text-primary); font-weight: 600; font-size: 1.6rem; } /* Scaled up */
    .modal-body {
        flex-grow: 1; overflow-y: auto; border: 1px solid var(--border-color);
        padding: 20px; background: var(--background-color); border-radius: var(--radius-sm);
        font-size: 1.1rem; /* Scaled up */ line-height: 1.6; margin-bottom: 16px;
    }
    .modal-body.raw-html { white-space: pre-wrap; font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace; }
    .close-button {
      color: var(--text-muted); float: right; font-size: 38px; /* Scaled up */ font-weight: bold;
      position: absolute; top: 20px; right: 24px; cursor: pointer; transition: color 0.2s ease;
    }
    .close-button:hover, .close-button:focus { color: var(--text-primary); text-decoration: none; }
    /* Enhanced form styling */
    .modal-content label {
      display: block; width: 100%; margin-bottom: 12px; font-weight: 500; color: var(--text-primary); font-size: 1.1rem; /* Scaled up */
    }
    .modal-content input, .modal-content textarea, .modal-content select {
      display: block; width: 100%; margin-bottom: 20px; padding: 18px; /* Increased padding */
      border: 2px solid var(--border-color); border-radius: var(--radius-sm); font-size: 1.1rem; /* Scaled up */
      transition: border-color 0.2s ease; background: var(--background-color); color: var(--text-primary);
      box-sizing: border-box;
    }
    .modal-content input:focus, .modal-content textarea:focus, .modal-content select:focus {
      outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.2);
    }
    .modal-content button {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white; border: none; padding: 18px 36px; /* Increased padding */ border-radius: var(--radius-sm);
      cursor: pointer; font-size: 1.1rem; /* Scaled up */ font-weight: 600; margin-top: 16px;
      transition: all 0.2s ease; box-shadow: var(--shadow-md);
      min-height: 52px; /* Increased min-height */
    }
    .modal-content button:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
    .modal-content button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; box-shadow: none; }
    /* Enhanced action buttons */
    .full-email-actions {
      display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 20px; padding-top: 20px;
      border-top: 1px solid var(--border-color);
    }
    .full-email-actions button {
      background: var(--background-color); color: var(--text-primary); border: 1px solid var(--border-color);
      padding: 16px 20px; /* Increased padding */ border-radius: var(--radius-sm); cursor: pointer;
      font-size: 1.8rem !important; /* Scaled up */ font-weight: 500; margin-top: 0; transition: all 0.2s ease;
      min-height: 52px; /* Increased min-height */
    }
    .full-email-actions button:hover {
      background: var(--primary-color); color: white; border-color: var(--primary-color);
    }
    /* Enhanced snackbar */
    #snackbar {
      visibility: hidden; min-width: 300px; margin-left: -150px; background: var(--card-background);
      color: var(--text-primary); text-align: center; border-radius: var(--radius-md);
      padding: 22px; /* Increased padding */ position: fixed; z-index: 101; left: 50%; bottom: 50px;
      font-size: 1.1rem; /* Scaled up */ font-weight: 500; box-shadow: var(--shadow-lg); border: 1px solid var(--border-color);
    }
    #snackbar.show {
      visibility: visible;
      -webkit-animation: snackbarFadeIn 0.5s, snackbarFadeOut 0.5s 2.5s;
      animation: snackbarFadeIn 0.5s, snackbarFadeOut 0.5s 2.5s;
    }
    #snackbar button {
        background: var(--success-color); color: white; border: none;
        padding: 14px 22px; /* Increased padding */ margin-left: 16px; cursor: pointer; border-radius: var(--radius-sm); font-weight: 500;
        transition: background 0.2s ease; min-height: 44px; /* Increased min-height */
    }
    #snackbar button:hover { background: #38a169; }
    @keyframes snackbarFadeIn { from { bottom: 0; opacity: 0; transform: scale(0.8); } to { bottom: 50px; opacity: 1; transform: scale(1); } }
    @keyframes snackbarFadeOut { from { bottom: 50px; opacity: 1; transform: scale(1); } to { bottom: 0; opacity: 0; transform: scale(0.8); } }

    /* Task card styling - apply adjustments for grid */
    .task-card {
        background: var(--card-background);
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-sm);
        padding: 28px; /* Increased padding */
        /* Remove margin-bottom as gap handles spacing now */
        margin-bottom: 0;
        border: 1px solid var(--border-color);
        transition: box-shadow 0.2s ease;
        /* Ensure cards fill grid cell */
        width: 100%;
        height: auto; /* Let height adjust to content */
        display: flex;
        flex-direction: column;
        overflow-x: auto;
    }

    .task-card:hover {
        box-shadow: var(--shadow-md);
    }
    .task-card-header h3 {
        color: var(--text-primary);
        font-size: 2.4rem !important; /* Scaled up from 1.25rem */
        font-weight: 600;
        margin-bottom: 12px;
    }
    .task-card-details p {
        margin: 0 0 8px 0;
        font-size: 2.2rem !important; /* Scaled up from 0.9rem */
        color: var(--text-secondary);
    }
    .task-card-actions {
        display: flex;
        gap: 12px;
        margin-top: auto; /* Push actions to the bottom of the card */
        padding-top: 10px; /* Small padding above buttons */
        border-top: 1px solid var(--border-color); /* Separator for actions */
        flex-wrap: wrap; /* Allow buttons to wrap if too many */
        justify-content: flex-end; /* Align buttons to the right */
    }
    .task-card-actions button {
        background: var(--background-color);
        border: 1px solid var(--border-color);
        padding: 14px 22px; /* Increased padding */
        border-radius: var(--radius-sm);
        cursor: pointer;
        font-size: 2rem !important; /* Scaled up from 0.9rem */
        font-weight: 500;
        transition: all 0.2s ease;
        min-height: 48px; /* Increased min-height */
    }
    .task-card-actions button.done {
        background: var(--success-color);
        color: white;
        border-color: var(--success-color);
    }
    .task-card-actions button.edit {
        background: var(--warning-color);
        color: white;
        border-color: var(--warning-color);
    }
    .task-card-actions button.email {
        background: var(--accent-color);
        color: white;
        border-color: var(--accent-color);
    }
    /* Loading states */
    #loadingEmails,
    #loadingTasks {
        color: var(--text-secondary);
        font-size: 4rem; /* Scaled up from 1.5rem */
        font-weight: 500;
        padding: 20px;
    }

    /* Responsive design for larger screens (min-width: 600px) */
    @media (min-width: 600px) {
      body { font-size: 1.05rem; } /* Adjusted base font size for desktop (16.8px) - slightly larger than 1rem */
      .container { padding: 20px; } /* Add padding for wider screens */
      nav { border-radius: var(--radius-md); margin-bottom: 16px; } /* Restore rounded corners */
      .email-card { padding: 24px; } /* Adjust padding for desktop */
      .email-card-header h3 { font-size: 1.5rem; } /* Adjusted for desktop */
      /* BEGIN DESKTOP SNIPPET FONT SIZE AND HEIGHT ADJUSTMENT */
      #emailCardContainer .email-card-snippet { font-size: 1.1rem; max-height: 150px; -webkit-line-clamp: 6; } /* Adjusted for desktop */
      #emailCardContainer .email-card-snippet p,
      #emailCardContainer .email-card-snippet span,
      #emailCardContainer .email-card-snippet div {
          font-size: inherit;
      }
      /* END DESKTOP SNIPPET FONT SIZE AND HEIGHT ADJUSTMENT */
      .email-card-meta { font-size: 0.85rem; } /* Adjusted meta font size for desktop */
      .email-card-actions { grid-template-columns: repeat(3, 1fr); gap: 12px; } /* 3 columns on tablet */
      .full-email-actions { grid-template-columns: repeat(3, 1fr); }
      .swipe-hint { font-size: 3rem; } /* Adjusted hint size for desktop */
      /* Better positioning for larger screens */
      .swipe-hint.left { left: 40px; width: calc(100% - 80px); }
      .swipe-hint.right { right: 40px; width: calc(100% - 80px); }
      .swipe-hint.up { top: 40px; width: calc(100% - 80px); height: calc(100% - 80px); left: 40px; }
      .swipe-hint.down { bottom: 40px; width: calc(100% - 80px); height: calc(100% - 80px); left: 40px; }

      /* Desktop adjustments for modal and form fonts */
      .modal-content h2 { font-size: 1.8rem; }
      .modal-body { font-size: 1rem; }
      .modal-content label { font-size: 1rem; }
      .modal-content input, .modal-content textarea, .modal-content select { font-size: 1rem; }
      .modal-content button { font-size: 1.1rem; }
      .full-email-actions button { font-size: 1rem; }
      #snackbar { font-size: 1rem; }

      /* Desktop adjustments for task cards */
      .task-card-header h3 { font-size: 1.3rem; }
      .task-card-details p { font-size: 0.95rem; }
      .task-card-actions button { font-size: 0.95rem; }
    }

    /* NEW: Media Query for Larger Desktops / Laptops / Large Tablets (e.g., iPad Pro landscape) */
    /* This media query covers from 1024px wide screens and up */
    @media (min-width: 1024px) {
      body {
        font-size: 1.0rem;
      }
      .container {
        max-width: 1200px;
        padding: 40px;
      }

      /* HEADER ADJUSTMENTS for 1024px+ */
      header {
        padding: 24px 20px; /* Can go back to original generous padding for large screens */
      }
      header h1 {
        font-size: 3.0rem; /* Re-adjust header font for large screens */
      }

      /* FOOTER ADJUSTMENTS for 1024px+ */
      footer {
        padding: 15px 20px; /* Can go back to original padding */
        font-size: 1.05rem; /* Slightly larger for large screens */
      }

      nav button {
        font-size: 1.3rem;
      }
      .email-card-header h3 {
        font-size: 1.8rem !important;
      }
      #emailCardContainer .email-card-snippet {
        font-size: 1.1rem !important;
        max-height: 200px !important;
        -webkit-line-clamp: 8;
      }
      .email-card-header p,
      .email-card-details p {
        font-size: 0.95rem !important;
      }
      .task-grid-container {
        grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
        gap: 30px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>MailFlow Manager</h1>
    </header>

    <nav>
      <button id="showEmailsBtn" class="active">Emails</button>
      <button id="showTasksBtn">Tasks</button>
    </nav>

    <div id="emailDashboard" class="dashboard-view">
      <div id="swipeHintLeft" class="swipe-hint left">LEAVE AS UNREAD</div>
      <div id="swipeHintRight" class="swipe-hint right">MARK AS READ</div>
      <div id="swipeHintUp" class="swipe-hint up">MOVE TO TRASH</div>
      <div id="swipeHintDown" class="swipe-hint down">REPLY LATER</div>

      <div id="emailCardContainer" class="card-wrapper">
        <p id="loadingEmails">Loading emails...</p>
        </div>
    </div>

    <div id="taskDashboard" class="dashboard-view" style="display: none;">
      <div id="taskCardsContainer" class="task-grid-container">
        <p id="loadingTasks">Loading tasks...</p>
        </div>
    </div>

    <div id="summaryModal" class="modal">
      <div class="modal-content">
        <span class="close-button" onclick="closeModal('summaryModal')">&times;</span>
        <h2>Email Summary</h2>
        <div id="summaryText" class="modal-body">Loading summary...</div>
        <button id="generateSummaryBtn">Generate Summary (AI)</button>
        <p style="font-size: 0.8em; color: #777;">Note: Free AI summary limit applies (e.g., 10/month).</p>
      </div>
    </div>

    <div id="createTaskModal" class="modal">
      <div class="modal-content">
        <span class="close-button" onclick="closeModal('createTaskModal')">&times;</span>
        <h2>Create New Task</h2>
        <form id="taskForm">
          <label for="taskAction">Task Action:</label>
          <input type="text" id="taskAction" required>

          <label for="taskDueDate">Due Date:</label>
          <input type="date" id="taskDueDate">

          <label for="taskDueTime">Due Time:</label>
          <input type="time" id="taskDueTime">

          <label for="taskAssignee">Assignee Email (Optional):</label>
          <input type="email" id="taskAssignee">

          <label for="taskNotes">Notes:</label>
          <textarea id="taskNotes" rows="4" placeholder="Add any relevant notes or details here..."></textarea>

          <input type="hidden" id="taskMessageId">
          <button type="submit">Save Task</button>
        </form>
      </div>
    </div>

    <div id="replyModal" class="modal">
      <div class="modal-content">
        <span class="close-button" onclick="closeModal('replyModal')">&times;</span>
        <h2>Reply to Email</h2>
        <form id="replyForm">
          <label for="replyBody">Your Reply:</label>
          <textarea id="replyBody" rows="8" required></textarea>
          <input type="hidden" id="replyMessageId">
          <button type="submit">Send Reply</button>
        </form>
      </div>
    </div>

    <div id="fullEmailModal" class="modal">
      <div class="modal-content">
        <span class="close-button" onclick="closeModal('fullEmailModal')">&times;</span>
        <h2>Full Email Content</h2>
        <div id="fullEmailContent" class="modal-body">Loading email...</div>
        <div class="full-email-actions">
          </div>
      </div>
    </div>

    <div id="replyLaterModal" class="modal">
      <div class="modal-content">
        <span class="close-button" onclick="closeModal('replyLaterModal')">&times;</span>
        <h2>Remind Me To Reply Later</h2>
        <form id="replyLaterForm">
          <label for="reminderTimeSelect">Remind me:</label>
          <select id="reminderTimeSelect" required>
            <option value="">Choose a time...</option>
            <option value="in 30 minutes">In 30 Minutes</option>
            <option value="in 1 hour">In 1 Hour</option>
            <option value="in 2 hours">In 2 Hours</option>
            <option value="in 3 hours">In 3 Hours</option>
            <option value="mid-day">Today Mid-day (12 PM)</option>
            <option value="end-of-day">Today End-of-Day (5 PM)</option>
            <option value="tomorrow 8am">Tomorrow Morning (8 AM)</option>
          </select>
          <input type="hidden" id="replyLaterMessageId">
          <button type="submit">Set Reminder</button>
        </form>
      </div>
    </div>

    <div id="snackbar"></div>
  </div>

  <footer style="
    background: var(--primary-dark);
    color: var(--text-muted);
    text-align: center;
    padding: 15px 20px;
    font-size: 1.4rem;
    border-top: 1px solid var(--border-color);
    flex-shrink: 0; /* Prevents footer from shrinking */
    margin-top: auto; /* Pushes footer to the bottom if content is short */
  ">
    <p>Made by GC Education Analytics</p>
    <p>&copy; 2025 <a href="https://GCEducationAnalytics.com" target="_blank" style="color: var(--text-secondary); text-decoration: none;">GCEducationAnalytics.com</a>. All rights reserved.</p>
    <p style="margin-top: 5px;">MailFlow Manager v1.0</p>
  </footer>

  <script>
    const emailDashboard = document.getElementById('emailDashboard');
    const taskDashboard = document.getElementById('taskDashboard');
    const loadingEmails = document.getElementById('loadingEmails');
    const loadingTasks = document.getElementById('loadingTasks');
    const summaryModal = document.getElementById('summaryModal');
    const createTaskModal = document.getElementById('createTaskModal');
    const replyModal = document.getElementById('replyModal');
    const fullEmailModal = document.getElementById('fullEmailModal');
    const replyLaterModal = document.getElementById('replyLaterModal'); // New: Reply Later Modal element
    const snackbar = document.getElementById('snackbar');
    const emailCardContainer = document.getElementById('emailCardContainer');
    const fullEmailActionsDiv = document.querySelector('#fullEmailModal .full-email-actions');
    const taskCardsContainer = document.getElementById('taskCardsContainer');


    // Swipe hints
    const swipeHintLeft = document.getElementById('swipeHintLeft');
    const swipeHintRight = document.getElementById('swipeHintRight');
    const swipeHintUp = document.getElementById('swipeHintUp');
    const swipeHintDown = document.getElementById('swipeHintDown');


    let emailQueue = [];
    let isFetching = false;
    let emailBeforeModal = null;
    const PRELOAD_THRESHOLD = 2;
    const BATCH_FETCH_COUNT = 10;

    let currentEmailDisplayed = null; // Email object currently on the main card
    let currentFullEmailMessageId = null; // Message ID of email open in the full email modal
    let currentTasks = []; // Now holds mock task data
    let undoAction = null;

    // --- Swipe Variables ---
    let initialTouchX = 0;
    let initialTouchY = 0;
    let currentTranslateX = 0;
    let currentTranslateY = 0;
    let isDragging = false;
    let isSwipeDetected = false; // Flag to indicate if a valid swipe gesture is in progress
    let dominantAxis = null; // 'x' or 'y'
    const SWIPE_THRESHOLD = 80; // pixels to trigger a swipe action
    const SWIPE_OPACITY_START_THRESHOLD = 30; // pixels before hint starts appearing
    const SWIPE_OPACITY_END_THRESHOLD = 150; // pixels to reach full opacity for hint


    // --- UI State Management ---
    document.getElementById('showEmailsBtn').addEventListener('click', () => showView('emails'));
    document.getElementById('showTasksBtn').addEventListener('click', () => showView('tasks'));

    function showView(view) {
        if (view === 'emails') {
            emailDashboard.style.display = 'flex';
            taskDashboard.style.display = 'none';
            document.getElementById('showEmailsBtn').classList.add('active');
            document.getElementById('showTasksBtn').classList.remove('active');
            if (!currentEmailDisplayed && emailQueue.length === 0) {
                preloadEmails(true); // Force display if no email is showing
            } else if (!currentEmailDisplayed && emailQueue.length > 0) {
                displayNextEmail();
            }
        } else if (view === 'tasks') {
            emailDashboard.style.display = 'none';
            taskDashboard.style.display = 'flex'; // Use flex for taskDashboard as per CSS
            document.getElementById('showEmailsBtn').classList.remove('active');
            document.getElementById('showTasksBtn').classList.add('active');
            refreshTasks(); // Call refreshTasks to load the grid
        }
    }

    function showSnackbar(message, actionText = null, actionCallback = null) {
        snackbar.textContent = message;
        let existingButton = snackbar.querySelector('button');
        if (existingButton) snackbar.removeChild(existingButton);

        if (actionText && actionCallback) {
            const actionButton = document.createElement('button');
            actionButton.textContent = actionText;
            actionButton.onclick = () => {
                actionCallback();
                snackbar.classList.remove('show');
            };
            snackbar.appendChild(actionButton);
        }

        snackbar.classList.add('show');
        setTimeout(() => {
            snackbar.classList.remove('show');
        }, 3000);
    }

    function openModal(modalId) {
      document.getElementById(modalId).style.display = 'flex';
      // When opening a modal that interacts with the current email, save it
      // and temporarily hide the email card to avoid visual clutter.
      if (modalId === 'summaryModal' || modalId === 'createTaskModal' || modalId === 'replyModal' || modalId === 'fullEmailModal' || modalId === 'replyLaterModal') {
          if (currentEmailDisplayed) {
              emailBeforeModal = currentEmailDisplayed; // Store the current email object
              const card = emailCardContainer.querySelector('.email-card');
              if (card) {
                  card.style.transition = 'opacity 0.2s ease-out'; // Smooth fade out
                  card.style.opacity = '0'; // Hide the card
                  card.style.transform = 'translate3d(0, 0, 0)'; // Ensure it's not flung
              }
          }
      }
    }

    function closeModal(modalId) {
        document.getElementById(modalId).style.display = 'none';

        // Reset modal specific state
        if (modalId === 'createTaskModal') {
            document.getElementById('taskForm').removeAttribute('data-editing-taskId');
            document.getElementById('createTaskModal').querySelector('h2').innerText = 'Create New Task';
            document.getElementById('createTaskModal').querySelector('button[type="submit"]').innerText = 'Save Task';
            document.getElementById('taskForm').reset();
        }
        if (modalId === 'replyModal') {
            document.getElementById('replyBody').value = '';
        }
        if (modalId === 'replyLaterModal') {
            document.getElementById('reminderTimeSelect').value = '';
        }

        // FIX: If a modal (that processes the current email) is closed without the email being advanced,
        // restore the email card to the view.
        if (['summaryModal', 'createTaskModal', 'replyModal', 'fullEmailModal', 'replyLaterModal'].includes(modalId)) {
            // Check if the email that was displayed before the modal opened is still the current one.
            // If it is, it means the modal action was not completed (e.g., cancelled),
            // and the UI hasn't advanced to the next email. So, we bring the card back.
            if (emailBeforeModal && currentEmailDisplayed && emailBeforeModal.id === currentEmailDisplayed.id) {
                renderSingleEmailCard(currentEmailDisplayed); // Re-render to ensure event listeners are fresh
                resetCardPosition(); // Bring it back to center and full opacity
            }
            emailBeforeModal = null; // Clear the stored email regardless, for the next interaction
        }
    }

    // --- New: Function to dynamically update reminder options ---
    function updateReminderOptions() {
        const now = new Date();
        const currentHour = now.getHours(); // Get the current hour (0-23)

        const midDayOption = document.querySelector('#reminderTimeSelect option[value="mid-day"]');
        const endOfDayOption = document.querySelector('#reminderTimeSelect option[value="end-of-day"]');

        if (midDayOption) {
            // Check if current time is past 12 PM (mid-day)
            if (currentHour >= 12) { // 12 PM (noon) and later
                midDayOption.textContent = 'Tomorrow Mid-day (12 PM)';
            } else {
                midDayOption.textContent = 'Today Mid-day (12 PM)';
            }
        }

        if (endOfDayOption) {
            // Check if current time is past 5 PM (end of day)
            if (currentHour >= 17) { // 17:00 (5 PM) and later
                endOfDayOption.textContent = 'Tomorrow End-of-Day (5 PM)';
            } else {
                endOfDayOption.textContent = 'Today End-of-Day (5 PM)';
            }
        }
    }

    function handleError(error) {
        console.error("Mock Error:", error);
        showSnackbar("Error: " + (error.message || "An unknown error occurred."), true);
    }

    // 2. Modified handleTaskFormSubmit to collect new fields and handle update
    function handleTaskFormSubmit(event) {
        event.preventDefault();
        const form = event.target;
        const taskIdToEdit = form.dataset.editingTaskId;
        const taskMessageId = document.getElementById('taskMessageId').value; // Check if this task originated from an email

        const taskDetails = {
            id: taskIdToEdit || 'mock-task-' + Date.now(),
            action: document.getElementById('taskAction').value,
            dueDate: document.getElementById('taskDueDate').value,
            dueTime: document.getElementById('taskDueTime').value,
            assigneeEmail: document.getElementById('taskAssignee').value,
            notes: document.getElementById('taskNotes').value,
            messageId: document.getElementById('taskMessageId').value,
            status: 'Pending'
        };

        if (taskIdToEdit) {
            // Simulate update
            const taskIndex = currentTasks.findIndex(task => task.id === taskIdToEdit);
            if (taskIndex !== -1) {
                currentTasks[taskIndex] = { ...currentTasks[taskIndex], ...taskDetails };
                closeModal('createTaskModal');
                showSnackbar('Task updated successfully!');
                refreshTasks();
            } else {
                showError("Mock Task not found for update.");
            }
            emailBeforeModal = null; // Clear the flag, as the task was handled (edit)
        } else {
            // Simulate new task creation
            currentTasks.push(taskDetails);
            closeModal('createTaskModal');
            showSnackbar('Task created successfully!');
            refreshTasks();
            // Only advance email if this new task was linked to an email.
            if (taskMessageId) {
                emailBeforeModal = null; // Clear the flag
                displayNextEmail();
            } else {
                // If it's a standalone task creation, ensure the email card is reset to visible
                if (currentEmailDisplayed) {
                    renderSingleEmailCard(currentEmailDisplayed);
                    resetCardPosition();
                }
                emailBeforeModal = null; // Clear the flag
            }
        }
    }

    // --- Initial Load ---
    document.addEventListener('DOMContentLoaded', () => {
        // Initial load of emails (default view)
        preloadEmails(true); // Ensure emails are loaded and displayed initially

        // Nav button click handlers
        document.getElementById('showEmailsBtn').addEventListener('click', () => showView('emails'));
        document.getElementById('showTasksBtn').addEventListener('click', () => showView('tasks'));

        // Form submission listeners (already there, just ensure they call the correct handlers)
        document.getElementById('taskForm').addEventListener('submit', handleTaskFormSubmit);
        document.getElementById('replyForm').addEventListener('submit', handleReplyFormSubmit);
        document.getElementById('generateSummaryBtn').addEventListener('click', handleGenerateSummary);
        document.getElementById('replyLaterForm').addEventListener('submit', handleReplyLaterFormSubmit);
        // NEW: Call the function to update reminder options when the page loads
        updateReminderOptions();
        document.getElementById('replyLaterModal').addEventListener('click', updateReminderOptions);
    });

    // --- Email Dashboard Functions ---

    // Mock Email Data (Education-focused)
    const mockEmails = [
        {
            id: 'email-1',
            threadId: 'thread-1',
            from: 'Sarah Chen <sarah.chen@districtschools.org>',
            subject: 'Urgent: Absences & Substitute Coverage for 3rd Grade',
            snippet: 'Good morning Principal [Your Last Name], Mr. Davis (3rd Grade) called in sick and we have no substitute. His class has been split amongst other teachers but classroom 302 needs attention. Please advise.',
            date: new Date('2025-06-15T07:45:00Z').toISOString(), // June 15, 2025 7:45 AM CDT (Adjusted for current time)
            isUnread: true,
            hasAttachment: false,
            fullBody: `<p>Good morning Principal [Your Last Name],</p><p>Mr. Davis (3rd Grade) called in sick this morning. Unfortunately, due to the late notice, we do not have a substitute available. His class has been temporarily split amongst Ms. Rodriguez (301) and Mr. Kim (303) for first period, but we need a longer-term solution.</p><p>Classroom 302 itself also needs a quick tidy-up after a spilled milk incident yesterday that Mr. Davis didn't get to. It's not urgent, but should be addressed when possible.</p><p>Please advise on the best course of action for the remainder of the day regarding substitute coverage for 3rd grade. I've already notified the front office.</p><p>Thanks,</p><p>Sarah Chen<br>School Secretary</p>`
        },
        {
            id: 'email-2',
            threadId: 'thread-2',
            from: 'Parent Council <parentcouncil@community.org>',
            subject: 'Volunteer Request: Fall Festival Planning Meeting Tonight',
            snippet: 'Dear Principal, a quick reminder about the Fall Festival planning meeting tonight at 6 PM in the library. We\'re still looking for volunteers to help with booth setup and coordination. Your presence is highly valued!',
            date: new Date('2025-06-14T18:00:00Z').toISOString(), // June 14, 2025 6:00 PM CDT
            isUnread: true,
            hasAttachment: true,
            fullBody: `<p>Dear Principal,</p><p>This is a quick reminder about the Parent Council meeting tonight, **June 14th, at 6:00 PM in the school library**. The primary agenda item is the planning for our annual Fall Festival.</p><p>We are still actively looking for parent volunteers to help with various aspects, including booth setup, game coordination, food vendors, and promotion. Your insights and support are crucial for making this event a success for our students and community.</p><p>We will be discussing budget allocations, vendor selections, and volunteer assignments. Please come prepared with any ideas or suggestions you may have. Minutes from the last meeting are attached.</p><p>We look forward to seeing you there!</p><p>Sincerely,</p><p>The Parent Council Leadership Team</p>`
        },
        {
            id: 'email-3',
            threadId: 'thread-3',
            from: 'District IT Support <itsupport@districtschools.org>',
            subject: 'Mandatory Software Update: Chrome OS for Student Devices',
            snippet: 'Attention Principals, a mandatory Chrome OS update will be rolled out to all student Chromebooks this weekend (June 15-16). Please ensure all devices are charged and connected to school Wi-Fi by Friday dismissal for seamless update. Failure to update may impact device functionality.',
            date: new Date('2025-06-13T10:00:00Z').toISOString(), // June 13, 2025 10:00 AM CDT
            isUnread: true,
            hasAttachment: false,
            fullBody: `<p>Attention Principals,</p><p>Please be advised of a mandatory Chrome OS update scheduled for all student Chromebooks across the district this weekend, **June 15-16**.</p><p>To ensure a seamless update process and minimize disruption, please ensure that all student devices are charged and connected to the school Wi-Fi network before dismissal on Friday, June 14th. Devices not connected to the network during this window may not receive the update and could experience functionality issues when school resumes.</p><p>A brief guide on verifying the update status will be shared early next week. If you encounter significant issues with devices post-update, please submit an IT ticket through the usual portal.</p><p>Thank you for your cooperation.</p><p>Sincerely,</p><p>District IT Support Team</p>`
        },
        {
            id: 'email-4',
            threadId: 'thread-4',
            from: 'Teacher Lead Ms. Davis <m.davis@districtschools.org>',
            subject: 'Request for Meeting: New Curriculum Implementation Concerns',
            snippet: 'Dear Principal, I would like to request a brief meeting with you and perhaps other grade-level leads to discuss some emerging concerns regarding the implementation of the new Math curriculum. Specifically, pacing and resource allocation for differentiation. Available Tuesday or Wednesday afternoon.',
            date: new Date('2025-06-12T14:30:00Z').toISOString(), // June 12, 2025 2:30 PM CDT
            isUnread: true,
            hasAttachment: false,
            fullBody: `<p>Dear Principal,</p><p>I am writing on behalf of several teachers from my grade level to request a brief meeting with you. We would also welcome the presence of other grade-level leads or your assistant principal, if available.</p><p>Our main objective is to discuss some emerging concerns and challenges we are facing with the implementation of the new Math curriculum. Specifically, we are finding difficulties with the prescribed pacing, and there are questions regarding the allocation of resources to effectively differentiate instruction for all students, especially those needing additional support or enrichment.</p><p>We believe addressing these issues proactively will be beneficial for student learning outcomes and teacher morale. I am available to meet on Tuesday afternoon (June 17th) between 1:00 PM and 3:00 PM, or Wednesday afternoon (June 18th) between 2:00 PM and 4:00 PM.</p><p>Please let me know what time works best for you. Thank you for your time and consideration.</p><p>Sincerely,</p><p>Ms. Davis<br>5th Grade Lead Teacher</p>`
        },
        {
            id: 'email-5',
            threadId: 'thread-5',
            from: 'District Superintendent <superintendent@districtschools.org>',
            subject: 'Superintendent\'s Weekly Briefing: Focus on Student Wellness',
            snippet: 'Good afternoon, Principals. This week\'s briefing focuses on student wellness initiatives. We are launching new mental health support programs next quarter. Please review the attached policy updates and prepare for discussion at next month\'s district meeting.',
            date: new Date('2025-06-11T16:45:00Z').toISOString(), // June 11, 2025 4:45 PM CDT
            isUnread: true,
            hasAttachment: true,
            fullBody: `<p>Good afternoon, Principals,</p><p>This week's Superintendent's Briefing is centered on a critical area: **Student Wellness Initiatives**. Our goal is to ensure a supportive and healthy environment for all students.</p><p>We are excited to announce the forthcoming launch of new mental health support programs, including expanded counseling services and resilience-building workshops, starting next quarter. Details regarding funding, staffing, and implementation timelines are outlined in the attached "Student Wellness Policy Updates 2025.pdf".</p><p>Please review these policy updates thoroughly. We will be dedicating a significant portion of our next monthly district meeting (July 10th) to discuss the implications and implementation strategies for these programs at the school level.</p><p>Your feedback and insights are invaluable as we roll out these vital services.</p><p>Best regards,</p><p>Dr. Eleanor Vance<br>District Superintendent</p>`
        }
    ];

    function preloadEmails(forceDisplay = false) {
        if (isFetching) {
            console.log("Already fetching emails, skipping preload.");
            return;
        }
        isFetching = true;
        
        if (emailQueue.length === 0 && !currentEmailDisplayed) {
            emailCardContainer.innerHTML = '<p id="loadingEmails">Loading emails...</p>';
            loadingEmails.style.display = 'block';
        }

        // Simulate fetching emails
        setTimeout(() => {
            isFetching = false;
            // Add mock emails if queue is empty (simulates initial fetch)
            if (emailQueue.length === 0) {
                emailQueue.push(...mockEmails);
            }
            if (!currentEmailDisplayed || forceDisplay) {
                displayNextEmail();
            }
        }, 500); // Simulate network delay
    }

    function displayNextEmail() {
        if (emailQueue.length > 0) {
            loadingEmails.style.display = 'none';
            currentEmailDisplayed = emailQueue.shift();
            renderSingleEmailCard(currentEmailDisplayed);
            resetCardPosition(); // Ensure new card is in original position
        } else {
            currentEmailDisplayed = null;
            emailCardContainer.innerHTML = '<p>No more unread or important emails at the moment! </p><p>Check back later or switch to tasks.</p>';
        }
    }

    function renderSingleEmailCard(email) {
      emailCardContainer.innerHTML = '';
      const card = document.createElement('div');
      card.className = 'email-card';
      card.dataset.messageId = email.id;

      const date = new Date(email.date).toLocaleString();
      const attachmentIndicator = email.hasAttachment ? '<span style="font-weight: bold; color: #FF9800;">Has Attachment</span>' : '';

      card.innerHTML = `
        <div class="email-card-header">
          <h3>${email.subject}</h3>
          <p>From: ${email.from} - Received: ${date}</p>
        </div>
        <div class="email-card-snippet">
          ${email.snippet || "No preview available."}
        </div>
        <div class="email-card-meta">
            ${attachmentIndicator}
        </div>
        <div class="email-card-actions">
          <button onclick="handleEmailAction('${email.id}', 'reply')">Reply Now</button>
          <button onclick="handleEmailAction('${email.id}', 'archive')">Archive</button>
          <button onclick="handleEmailAction('${email.id}', 'trash')">Trash</button>
          <button onclick="handleEmailAction('${email.id}', 'replyLater')">Reply Later</button>
          <button onclick="handleEmailAction('${email.id}', 'createTask')">Create Task</button>
          <button onclick="handleEmailAction('${email.id}', 'summarize')">Summarize</button>
          <button onclick="handleEmailAction('${email.id}', 'readFull')">Read Full Email</button>
          <button onclick="handleEmailAction('${email.id}', 'unread')">Leave Unread</button>
        </div>
      `;
      emailCardContainer.appendChild(card);

      // Attach swipe event listeners to the newly rendered card
      card.addEventListener('touchstart', handleTouchStart);
      card.addEventListener('touchmove', handleTouchMove);
      card.addEventListener('touchend', handleTouchEnd);
    }

    function handleEmailAction(messageId, action) {
      if (!currentEmailDisplayed || currentEmailDisplayed.id !== messageId) {
          showError("Action attempted on an outdated email card.");
          return;
      }

      let successMessage = '';
      let shouldAdvanceUI = false;

      // Define actions that immediately process the email and advance the UI
      const immediateActions = ['archive', 'trash', 'read', 'unread']; // 'read' from swipe right

      // Define actions that open a modal for further user input
      const modalActions = ['reply', 'replyLater', 'createTask', 'summarize', 'readFull'];

      if (immediateActions.includes(action)) {
        shouldAdvanceUI = true;
        switch (action) {
          case 'archive':
            successMessage = 'Email archived.';
            showSnackbar(successMessage, 'Undo', () => console.log('Mock Undo Archive'));
            break;
          case 'trash':
            successMessage = 'Email moved to trash.';
            showSnackbar(successMessage, 'Undo', () => console.log('Mock Undo Trash'));
            break;
          case 'read':
            successMessage = 'Email marked as read.';
            showSnackbar(successMessage);
            break;
          case 'unread':
            successMessage = 'Email marked as unread.';
            showSnackbar(successMessage);
            break;
        }

        // Animate the card off-screen for immediate actions (archive, trash, read, unread)
        const card = emailCardContainer.querySelector('.email-card');
        if (card) {
            let flingX = 0, flingY = 0;
            if (action === 'unread') flingX = -window.innerWidth * 1.5;
            else if (action === 'read') flingX = window.innerWidth * 1.5;
            else if (action === 'trash') flingY = -window.innerHeight * 1.5;
            // The 'replyLater' action is now a modal, so it's not in this list for flinging.
            // For general action buttons like 'Archive', a default fling right is common.
            else if (action === 'archive') flingX = window.innerWidth * 1.5; 
            
            card.style.transition = 'transform 0.3s ease-out, opacity 0.3s ease-out';
            card.style.transform = `translate3d(${flingX}px, ${flingY}px, 0)`;
            card.style.opacity = '0';
        }

      } else if (modalActions.includes(action)) {
          // For modal actions, just open the modal. The card was already faded out by openModal.
          // `displayNextEmail()` will only be called by the modal's *submit* handler IF successful.
          // If modal is closed without submit, `closeModal` will restore the card.
          switch (action) {
            case 'reply': openReplyModal(messageId); break;
            case 'replyLater': openReplyLaterModal(messageId); break;
            case 'createTask': openCreateTaskModal(messageId, currentEmailDisplayed.subject); break;
            case 'summarize': openSummaryModal(messageId); break;
            case 'readFull': openFullEmailModal(messageId); break;
            case 'goToNext': // This action only happens in fullEmailModal, not a main card swipe/button
                shouldAdvanceUI = true; // For 'Go to Next Email' button in modal
                successMessage = 'Skipping to next email.';
                break;
          }
      } else {
        showError("Invalid email action.");
        // If an invalid action, ensure card is reset just in case.
        if (currentEmailDisplayed) { // Only attempt to restore if there's a current email
            renderSingleEmailCard(currentEmailDisplayed);
            resetCardPosition();
        }
        emailBeforeModal = null; // Clear any pending modal state
        return; // Don't advance UI for invalid actions
      }

      if (shouldAdvanceUI) {
          // Delay displayNextEmail slightly to allow fling animation to start
          setTimeout(displayNextEmail, 300);
      }
    }

    // --- Summary Modal Functions ---
    function openSummaryModal(messageId) {
      const emailToSummarize = currentEmailDisplayed;
      if (!emailToSummarize || emailToSummarize.id !== messageId) {
        showError("Email not found for summarization.");
        return;
      }
      document.getElementById('summaryText').innerHTML = emailToSummarize.snippet || "No preview available.";
      document.getElementById('generateSummaryBtn').style.display = 'block';
      document.getElementById('generateSummaryBtn').disabled = false;
      openModal('summaryModal');
    }

    function handleGenerateSummary() {
      const emailToSummarize = currentEmailDisplayed;
      if (!emailToSummarize) return;

      document.getElementById('summaryText').innerHTML = 'Generating summary... (this may take a moment)';
      document.getElementById('generateSummaryBtn').disabled = true;

      setTimeout(() => {
          const mockSummary = `AI Summary: This email requires your urgent attention. Mr. Davis (3rd Grade) is sick, no substitute is available. His class is split, but Room 302 needs attention. Advise on substitute coverage for the day.`;
          document.getElementById('summaryText').innerHTML = mockSummary;
          if (currentEmailDisplayed && currentEmailDisplayed.id === emailToSummarize.id) {
              currentEmailDisplayed.snippet = mockSummary;
              renderSingleEmailCard(currentEmailDisplayed); // Re-render card with new snippet
          }
          showSnackbar('Summary generated successfully!');
          document.getElementById('generateSummaryBtn').disabled = false;
      }, 1500); // Simulate AI processing time
    }

    // --- Reply Modal Functions ---
    function openReplyModal(messageId) {
      document.getElementById('replyMessageId').value = messageId;
      document.getElementById('replyBody').value = '';
      openModal('replyModal');
    }

    function handleReplyFormSubmit(event) {
        event.preventDefault();
        const messageId = document.getElementById('replyMessageId').value;
        const replyBody = document.getElementById('replyBody').value;

        // Simulate sending reply
        console.log(`Mock Reply to ${messageId}: "${replyBody}"`);
        closeModal('replyModal');
        showSnackbar('Reply sent successfully!');
        // After successful reply, advance the UI to the next email
        emailBeforeModal = null; // Clear the flag so closeModal doesn't restore
        displayNextEmail();
    }

    // --- New: Reply Later Modal Functions ---
    let currentReplyLaterMessageId = null; // Store messageId for Reply Later modal

    function openReplyLaterModal(messageId) {
        currentReplyLaterMessageId = messageId;
        document.getElementById('replyLaterMessageId').value = messageId; // Set hidden input
        document.getElementById('reminderTimeSelect').value = ''; // Reset dropdown
        updateReminderOptions(); // NEW: Update options just before showing the modal
        openModal('replyLaterModal');
    }

    function handleReplyLaterFormSubmit(event) {
        event.preventDefault();
        const messageId = document.getElementById('replyLaterMessageId').value;
        const reminderTimeChoice = document.getElementById('reminderTimeSelect').value;

        if (!reminderTimeChoice) {
            showError("Please select a reminder time.");
            return;
        }

        // Simulate setting reminder
        console.log(`Mock Reminder set for ${messageId} at ${reminderTimeChoice}`);
        closeModal('replyLaterModal');
        showSnackbar('Reminder set!');
        // After successfully setting reminder, advance the UI to the next email
        emailBeforeModal = null; // Clear the flag
        displayNextEmail();
    }


    // --- Task Management Functions ---
    // Mock Task Data (Education-focused)
    currentTasks = [
        {
            id: 'task-1',
            messageId: 'email-1',
            action: 'Address 3rd Grade Substitute Coverage',
            dueDate: '2025-06-15', // Today's date
            dueTime: '09:00', // 9:00 AM
            assigneeEmail: 'assistant.principal@example.com',
            notes: 'Find sub for Mr. Davis. Check on split class arrangement. Tidy Room 302.',
            status: 'Pending'
        },
        {
            id: 'task-2',
            messageId: 'email-2',
            action: 'Prepare for Fall Festival Planning Meeting',
            dueDate: '2025-06-14', // Yesterday's date
            dueTime: '17:30', // 5:30 PM
            assigneeEmail: 'principal@example.com',
            notes: 'Review attached minutes. Brainstorm volunteer incentives. Prepare agenda points for booths/food.',
            status: 'Done' // Marking as done for demo purposes, as meeting was yesterday
        },
        {
            id: 'task-3',
            messageId: 'email-4',
            action: 'Meet with Ms. Davis regarding new Math curriculum',
            dueDate: '2025-06-18', // Wednesday
            dueTime: '15:00', // 3:00 PM
            assigneeEmail: 'principal@example.com',
            notes: 'Discuss pacing and differentiation resources. Consider involving curriculum coordinator.',
            status: 'Pending'
        },
        {
            id: 'task-4',
            messageId: 'email-5',
            action: 'Review Superintendent\'s Briefing: Student Wellness',
            dueDate: '2025-07-09', // Day before district meeting
            dueTime: '16:00', // 4:00 PM
            assigneeEmail: 'principal@example.com',
            notes: 'Read attached policy updates. Prepare questions/feedback for July 10th district meeting.',
            status: 'Pending'
        },
        {
            id: 'task-5',
            messageId: 'email-3',
            action: 'Notify staff about Chrome OS update for student Chromebooks',
            dueDate: '2025-06-14', // Yesterday
            dueTime: '14:00', // 2:00 PM
            assigneeEmail: 'it.coordinator@example.com',
            notes: 'Send school-wide announcement. Remind teachers to have students charge devices.',
            status: 'Done' // Marking as done as the update was this weekend
        }
    ];

    function openCreateTaskModal(messageId = '', subject = '', taskId = '', action = '', rawDueDate = '', rawDueTime = '', assigneeEmail = '', notes = '') {
        const modal = document.getElementById('createTaskModal');
        const form = document.getElementById('taskForm');

        form.reset(); // Clear form fields
        form.removeAttribute('data-editing-taskId'); // Clear any previous editing ID
        document.getElementById('taskMessageId').value = ''; // Clear message ID by default

        // Set modal title and button text based on whether it's an edit or create operation
        if (taskId) {
            modal.querySelector('h2').innerText = 'Edit Task';
            modal.querySelector('button[type="submit"]').innerText = 'Update Task';
            form.dataset.editingTaskId = taskId; // Store taskId for update

            // Pre-fill form for editing
            document.getElementById('taskAction').value = action;
            document.getElementById('taskDueDate').value = rawDueDate;
            document.getElementById('taskDueTime').value = rawDueTime;
            document.getElementById('taskAssignee').value = assigneeEmail;
            document.getElementById('taskNotes').value = notes;
            document.getElementById('taskMessageId').value = messageId;
        } else {
            modal.querySelector('h2').innerText = 'Create New Task';
            modal.querySelector('button[type="submit"]').innerText = 'Save Task';

            // Pre-fill for creation (if from an email)
            document.getElementById('taskMessageId').value = messageId;
            document.getElementById('taskAction').value = subject ? `Follow up on: ${subject}` : '';
            document.getElementById('taskDueDate').value = '';
            document.getElementById('taskDueTime').value = '';
            document.getElementById('taskAssignee').value = '';
            document.getElementById('taskNotes').value = '';
        }

        openModal('createTaskModal');
    }

    function refreshTasks() {
        // Show loading message initially
        taskCardsContainer.innerHTML = '<p id="loadingTasks" style="text-align: center; padding: 20px;">Loading tasks...</p>';
        const existingLoadingP = document.getElementById('loadingTasks');
        if (existingLoadingP) existingLoadingP.style.display = 'block';

        setTimeout(() => {
            displayMockTasksGrid(currentTasks);
        }, 500); // Simulate loading delay
    }

    // New function to display mock tasks
    function displayMockTasksGrid(tasks) {
        let tasksHtml = '';
        const pendingTasks = tasks.filter(task => task.status !== 'Done');

        if (pendingTasks.length === 0) {
            tasksHtml = '<p id="loadingTasks" style="text-align: center; padding: 20px;">No pending tasks found.</p>';
        } else {
            pendingTasks.forEach(task => {
                let dueDateDisplay = 'N/A';
                let dueTimeDisplay = '';
                let rawDateOnly = task.dueDate || '';
                let rawTimeOnly = task.dueTime || '';

                if (task.dueDate) {
                    try {
                        const dueDateObj = new Date(`${task.dueDate}T${task.dueTime || '00:00'}`);
                        // Adjust for current timezone (Yukon, Oklahoma, US - CDT)
                        const optionsDate = { year: 'numeric', month: 'short', day: 'numeric', timeZone: 'America/Chicago' };
                        const optionsTime = { hour: '2-digit', minute: '2-digit', hour12: true, timeZone: 'America/Chicago' };

                        dueDateDisplay = dueDateObj.toLocaleDateString('en-US', optionsDate);
                        dueTimeDisplay = dueDateObj.toLocaleTimeString('en-US', optionsTime);
                    } catch (e) {
                        console.error(`Invalid due date/time for task ${task.id}:`, e);
                        dueDateDisplay = 'Invalid Date';
                        dueTimeDisplay = '';
                    }
                }

                tasksHtml += `
                    <div class="task-card"
                         data-task-id="${task.id}"
                         data-raw-duedate="${rawDateOnly}"
                         data-raw-duetime="${rawTimeOnly}"
                         data-raw-notes="${task.notes}"
                         data-message-id="${task.messageId}">
                        <div class="task-card-header">
                            <h3>${task.action}</h3>
                        </div>
                        <div class="task-card-details">
                            <p><strong>Assigned To:</strong> ${task.assigneeEmail}</p>
                            <p><strong>Due Date:</strong> ${dueDateDisplay}</p>
                            ${dueTimeDisplay ? `<p><strong>Due Time:</strong> ${dueTimeDisplay}</p>` : ''}
                            <p><strong>Status:</strong> ${task.status}</p>
                            ${task.notes ? `<p><strong>Notes:</strong> ${task.notes}</p>` : ''}
                        </div>
                        <div class="task-card-actions">
                            <button class="done">Mark Done</button>
                            <button class="edit">Edit</button>
                            ${task.assigneeEmail && task.assigneeEmail !== 'principal@example.com' ? `<button class="email">Email Assignee</button>` : ''}
                        </div>
                    </div>
                `;
            });
        }
        taskCardsContainer.innerHTML = tasksHtml;
        attachTaskButtonListeners();
    }

    function attachTaskButtonListeners() {
        document.querySelectorAll('.task-card-actions .done').forEach(button => {
            button.onclick = function() {
                const taskId = this.closest('.task-card').dataset.taskId;
                updateTaskStatus(taskId, 'Done');
            };
        });

        document.querySelectorAll('.task-card-actions .edit').forEach(button => {
            button.onclick = function() {
                const card = this.closest('.task-card');
                const taskId = card.dataset.taskId;
                const task = currentTasks.find(t => t.id === taskId);
                if (task) {
                    openCreateTaskModal(task.messageId, task.subject, task.id, task.action, task.dueDate, task.dueTime, task.assigneeEmail, task.notes);
                } else {
                    showError("Mock Task not found for editing.");
                }
            };
        });

        document.querySelectorAll('.task-card-actions .email').forEach(button => {
            button.onclick = function() {
                const taskId = this.closest('.task-card').dataset.taskId;
                emailAssignee(taskId);
            };
        });
    }

    function updateTaskStatus(taskId, status) {
        const taskIndex = currentTasks.findIndex(task => task.id === taskId);
        if (taskIndex !== -1) {
            currentTasks[taskIndex].status = status;
            showSnackbar(`Task marked as ${status}!`);
            refreshTasks();
        } else {
            showError("Mock Task not found for status update.");
        }
    }

    function emailAssignee(taskId) {
        const task = currentTasks.find(t => t.id === taskId);
        if (task && task.assigneeEmail) {
            showSnackbar(`Simulating email sent to ${task.assigneeEmail} for task "${task.action}"!`);
        } else {
            showError("No assignee found for this task or task not found.");
        }
    }

    // --- Full Email Content Functions ---
    function openFullEmailModal(messageId) {
        currentFullEmailMessageId = messageId;
        const fullEmailContentDiv = document.getElementById('fullEmailContent');
        fullEmailContentDiv.innerHTML = '<p>Loading full email...</p>';
        fullEmailContentDiv.classList.remove('raw-html');
        openModal('fullEmailModal');

        fullEmailActionsDiv.innerHTML = `
            <button onclick="handleModalEmailAction('${messageId}', 'reply')">Reply Now</button>
            <button onclick="handleModalEmailAction('${messageId}', 'archive')">Archive</button>
            <button onclick="handleModalEmailAction('${messageId}', 'trash')">Trash</button>
            <button onclick="handleModalEmailAction('${messageId}', 'replyLater')">Reply Later</button>
            <button onclick="handleModalEmailAction('${messageId}', 'createTask')">Create Task</button>
            <button onclick="handleModalEmailAction('${messageId}', 'summarize')">Summarize</button>
            <button onclick="handleModalEmailAction('${messageId}', 'unread')">Leave Unread</button>
            <button onclick="handleModalEmailAction('${messageId}', 'goToNext')">Go to Next Email</button>
        `;

        const email = mockEmails.find(e => e.id === messageId);
        if (email) {
            setTimeout(() => {
                fullEmailContentDiv.innerHTML = email.fullBody;
                showSnackbar('Full email loaded.');
            }, 500); // Simulate loading time
        } else {
            fullEmailContentDiv.textContent = `Error: Mock email with ID ${messageId} not found.`;
            showError("Mock email not found for full view.");
        }
    }

    function handleModalEmailAction(messageId, action) {
        if (!messageId) {
            showError("No email currently loaded in full view modal for action.");
            closeModal('fullEmailModal');
            return;
        }

        let successMessage = '';

        switch (action) {
            case 'archive':
                successMessage = 'Email archived.';
                showSnackbar(successMessage, 'Undo', () => console.log('Mock Undo Archive from Modal'));
                break;
            case 'trash':
                successMessage = 'Email moved to trash.';
                showSnackbar(successMessage, 'Undo', () => console.log('Mock Undo Trash from Modal'));
                break;
            case 'unread':
                successMessage = 'Email marked as unread.';
                showSnackbar(successMessage);
                break;
            case 'reply':
                closeModal('fullEmailModal');
                openReplyModal(messageId);
                return;
            case 'replyLater':
                closeModal('fullEmailModal');
                openReplyLaterModal(messageId);
                return;
            case 'createTask':
                closeModal('fullEmailModal');
                // Find the original email to pass its subject to the task modal
                const originalEmail = mockEmails.find(e => e.id === messageId);
                openCreateTaskModal(messageId, originalEmail ? originalEmail.subject : '');
                return;
            case 'summarize':
                closeModal('fullEmailModal');
                openSummaryModal(messageId);
                return;
            case 'goToNext':
                showSnackbar('Skipping to next email.');
                break;
            default:
                showError("Invalid modal action.");
                return;
        }

        closeModal('fullEmailModal');
        displayNextEmail();
    }


    // --- Swipe Functionality ---
    function handleTouchStart(e) {
        if (e.touches.length === 1) {
            const touch = e.touches[0];
            initialTouchX = touch.clientX;
            initialTouchY = touch.clientY;
            const card = e.currentTarget;
            card.classList.add('dragging');
            isDragging = true;
            isSwipeDetected = false;
            // REMOVED: dominantAxis = null; // No longer needed
            currentTranslateX = 0;
            currentTranslateY = 0;

            hideAllSwipeHints();
        }
    }

    function handleTouchMove(e) {
        if (!isDragging || e.touches.length !== 1) return;

        const touch = e.touches[0];
        let deltaX = touch.clientX - initialTouchX;
        let deltaY = touch.clientY - initialTouchY;
        const card = e.currentTarget;

        // NO AXIS LOCKING: Allow movement in both X and Y
        currentTranslateX = deltaX;
        currentTranslateY = deltaY;

        card.style.transform = `translate3d(${deltaX}px, ${deltaY}px, 0)`;

        const absDelta = Math.max(Math.abs(deltaX), Math.abs(deltaY)); // Use max for hint opacity calculation
        const opacityStrength = Math.min(1, Math.max(0, (absDelta - SWIPE_OPACITY_START_THRESHOLD) / SWIPE_OPACITY_END_THRESHOLD));
        card.style.opacity = 1 - (opacityStrength * 0.5);

        hideAllSwipeHints();
        if (absDelta > SWIPE_OPACITY_START_THRESHOLD) {
            // Show hint based on current primary direction, even if not strictly locked
            if (Math.abs(deltaX) > Math.abs(deltaY)) { // More horizontal movement
                if (deltaX < 0) swipeHintLeft.classList.add('show');
                else swipeHintRight.classList.add('show');
            } else { // More vertical movement
                if (deltaY < 0) swipeHintUp.classList.add('show');
                else swipeHintDown.classList.add('show');
            }
        }
    }

    function handleTouchEnd(e) {
        if (!isDragging) return;

        isDragging = false;
        const card = e.currentTarget;
        card.classList.remove('dragging');
        hideAllSwipeHints();

        const absDeltaX = Math.abs(currentTranslateX);
        const absDeltaY = Math.abs(currentTranslateY);

        let actionTriggered = false;
        let triggeredAction = null;

        // Determine which action would be triggered based on swipe distance and direction
        if (absDeltaX >= SWIPE_THRESHOLD || absDeltaY >= SWIPE_THRESHOLD) {
            if (absDeltaX > absDeltaY) { // Horizontal movement is more significant
                if (currentTranslateX < 0) { triggeredAction = 'unread'; }
                else { triggeredAction = 'read'; }
            } else { // Vertical movement is more significant (or equal)
                if (currentTranslateY < 0) { triggeredAction = 'trash'; }
                else { triggeredAction = 'replyLater'; } // This will now open a modal
            }

            if (triggeredAction) {
                // Call handleEmailAction, which now determines if it should fling or open a modal
                handleEmailAction(card.dataset.messageId, triggeredAction);
                actionTriggered = true;
            }
        }

        if (!actionTriggered) {
            // If no action was triggered (e.g., swipe not far enough), just reset the card position.
            // This also covers cases where a modal-opening action was triggered, but the fling
            // is handled by `handleEmailAction` or `openModal`.
            resetCardPosition();
        }
        // No explicit fling logic here anymore; it's handled by handleEmailAction if applicable.
        
        initialTouchX = 0;
        initialTouchY = 0;
        currentTranslateX = 0;
        currentTranslateY = 0;
    }

    function resetCardPosition() {
        const card = emailCardContainer.querySelector('.email-card');
        if (card) {
            card.style.transform = 'translate3d(0, 0, 0)';
            card.style.opacity = '1';
        }
    }

    function hideAllSwipeHints() {
        swipeHintLeft.classList.remove('show');
        swipeHintRight.classList.remove('show');
        swipeHintUp.classList.remove('show');
        swipeHintDown.classList.remove('show');
    }


    // --- Error Handling ---
    function showError(error) {
      console.error('Mock Error:', error);
      showSnackbar(`Error: ${error.message || 'An unknown error occurred.'}`);
    }

    // Mock google.script.run for local testing purposes
    // In a real deployment, these would be provided by Apps Script
    if (typeof google === 'undefined' || typeof google.script === 'undefined') {
        window.google = {
            script: {
                run: {
                    withSuccessHandler: function(callback) {
                        return {
                            withFailureHandler: function(errorCallback) {
                                return {
                                    // Mock implementations
                                    fetchEmails: function() { console.log('Mock fetchEmails called'); callback([]); },
                                    archiveEmail: function(id) { console.log('Mock archiveEmail called for', id); callback(); },
                                    trashEmail: function(id) { console.log('Mock trashEmail called for', id); callback(); },
                                    markAsRead: function(id) { console.log('Mock markAsRead called for', id); callback(); },
                                    markAsUnread: function(id) { console.log('Mock markAsUnread called for', id); callback(); },
                                    sendReply: function(id, body) { console.log('Mock sendReply called for', id); callback(); },
                                    logReminder: function(id, time) { console.log('Mock logReminder called for', id, time); callback(); },
                                    saveTask: function(task) { console.log('Mock saveTask called', task); callback('mock-task-' + Date.now()); },
                                    updateTask: function(id, updates) { console.log('Mock updateTask called for', id, updates); callback(); },
                                    listTasks: function() { console.log('Mock listTasks called'); callback(''); }, // Handled by displayMockTasksGrid
                                    emailTaskAssignee: function(id) { console.log('Mock emailTaskAssignee called for', id); callback(); },
                                    getFullEmailContent: function(id) { 
                                        const email = mockEmails.find(e => e.id === id);
                                        callback(email ? email.fullBody : 'Mock Full Email Content not found.'); 
                                    },
                                    callAISummarize: function(id, body) { console.log('Mock callAISummarize called for', id); callback('Mock AI Summary for ' + id + ': ' + body.substring(0, 50) + '...'); }
                                };
                            }
                        };
                    }
                }
            }
        };
    }

  </script>
</body>
</html>
          
          
          
        </div>
        
        

        
        

          
      </div>
     
      
      
        
        
          
          
        
      <script>
        var oid = "views_Manager_mockup.html"
        var oid_likes = "likes_Manager_mockup.html"
      </script>
      
      
      <script type="text/javascript" src="/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js" integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q&#43;oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script>
      
  
    </section>
  <footer class="pt-8 max-w-prose print:hidden">

    

    
  </footer>
</article>

      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top" title="Scroll to top">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
       2025 GC Education Analytics LLC. All Rights Reserved.
    </p>
    

    
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="//localhost:1313/"
  style="z-index:500"
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

  </div>
</body>

</html>
